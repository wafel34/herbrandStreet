!function e(t,n,i){function s(o,r){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!r&&l)return l(o,!0);if(a)return a(o,!0);throw new Error("Cannot find module '"+o+"'")}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return s(n||e)},c,c.exports,e,t,n,i)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)s(i[o]);return s}({1:[function(e,t,n){(function(e){!function(e,i){"function"==typeof define&&define.amd?define([],function(){return i(e)}):"object"==typeof n?t.exports=i(e):e.SmoothScroll=i(e)}(void 0!==e?e:"undefined"!=typeof window?window:this,function(e){"use strict";var t="querySelector"in document&&"addEventListener"in e&&"requestAnimationFrame"in e&&"closest"in e.Element.prototype,n={ignore:"[data-scroll-ignore]",header:null,speed:500,offset:0,easing:"easeInOutCubic",customEasing:null,before:function(){},after:function(){}},i=function(){for(var e={},t=0,n=arguments.length;t<n;t++)!function(t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}(arguments[t]);return e},s=function(t){return parseInt(e.getComputedStyle(t).height,10)},a=function(e){"#"===e.charAt(0)&&(e=e.substr(1));for(var t,n=String(e),i=n.length,s=-1,a="",o=n.charCodeAt(0);++s<i;){if(0===(t=n.charCodeAt(s)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");a+=t>=1&&t<=31||127==t||0===s&&t>=48&&t<=57||1===s&&t>=48&&t<=57&&45===o?"\\"+t.toString(16)+" ":t>=128||45===t||95===t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122?n.charAt(s):"\\"+n.charAt(s)}return"#"+a},o=function(e,t){var n;return"easeInQuad"===e.easing&&(n=t*t),"easeOutQuad"===e.easing&&(n=t*(2-t)),"easeInOutQuad"===e.easing&&(n=t<.5?2*t*t:(4-2*t)*t-1),"easeInCubic"===e.easing&&(n=t*t*t),"easeOutCubic"===e.easing&&(n=--t*t*t+1),"easeInOutCubic"===e.easing&&(n=t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1),"easeInQuart"===e.easing&&(n=t*t*t*t),"easeOutQuart"===e.easing&&(n=1- --t*t*t*t),"easeInOutQuart"===e.easing&&(n=t<.5?8*t*t*t*t:1-8*--t*t*t*t),"easeInQuint"===e.easing&&(n=t*t*t*t*t),"easeOutQuint"===e.easing&&(n=1+--t*t*t*t*t),"easeInOutQuint"===e.easing&&(n=t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t),e.customEasing&&(n=e.customEasing(t)),n||t},r=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},l=function(e,t,n){var i=0;if(e.offsetParent)do{i+=e.offsetTop,e=e.offsetParent}while(e);return i=Math.max(i-t-n,0)},c=function(e){return e?s(e)+e.offsetTop:0},d=function(t,n,i){i||(t.focus(),document.activeElement.id!==t.id&&(t.setAttribute("tabindex","-1"),t.focus(),t.style.outline="none"),e.scrollTo(0,n))},u=function(t){return!!("matchMedia"in e&&e.matchMedia("(prefers-reduced-motion)").matches)};return function(s,m){var h,p,f,g,v,y,b,E={};E.cancelScroll=function(){cancelAnimationFrame(b)},E.animateScroll=function(t,s,a){var u=i(h||n,a||{}),m="[object Number]"===Object.prototype.toString.call(t),p=m||!t.tagName?null:t;if(m||p){var f=e.pageYOffset;u.header&&!g&&(g=document.querySelector(u.header)),v||(v=c(g));var y,b,I,L=m?t:l(p,v,parseInt("function"==typeof u.offset?u.offset():u.offset,10)),_=L-f,w=r(),k=0,S=function(n,i){var a=e.pageYOffset;if(n==i||a==i||(f<i&&e.innerHeight+a)>=w)return E.cancelScroll(),d(t,i,m),u.after(t,s),y=null,!0},A=function(t){y||(y=t),b=(k+=t-y)/parseInt(u.speed,10),I=f+_*o(u,b=b>1?1:b),e.scrollTo(0,Math.floor(I)),S(I,L)||(e.requestAnimationFrame(A),y=t)};0===e.pageYOffset&&e.scrollTo(0,0),u.before(t,s),E.cancelScroll(),e.requestAnimationFrame(A)}};var I=function(e){p&&(p.id=p.getAttribute("data-scroll-id"),E.animateScroll(p,f),p=null,f=null)},L=function(t){if(!u()&&0===t.button&&!t.metaKey&&!t.ctrlKey&&(f=t.target.closest(s))&&"a"===f.tagName.toLowerCase()&&!t.target.closest(h.ignore)&&f.hostname===e.location.hostname&&f.pathname===e.location.pathname&&/#/.test(f.href)){var n;try{n=a(decodeURIComponent(f.hash))}catch(e){n=a(f.hash)}if("#"===n){t.preventDefault();var i=(p=document.body).id?p.id:"smooth-scroll-top";return p.setAttribute("data-scroll-id",i),p.id="",void(e.location.hash.substring(1)===i?I():e.location.hash=i)}(p=document.querySelector(n))&&(p.setAttribute("data-scroll-id",p.id),p.id="",f.hash===e.location.hash&&(t.preventDefault(),I()))}},_=function(e){y||(y=setTimeout(function(){y=null,v=c(g)},66))};return E.destroy=function(){h&&(document.removeEventListener("click",L,!1),e.removeEventListener("resize",_,!1),E.cancelScroll(),h=null,p=null,f=null,g=null,v=null,y=null,b=null)},E.init=function(s){t&&(E.destroy(),h=i(n,s||{}),g=h.header?document.querySelector(h.header):null,v=c(g),document.addEventListener("click",L,!1),e.addEventListener("hashchange",I,!1),g&&e.addEventListener("resize",_,!1))},E.init(m),E}})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){window.onload=function(){s.init(),o.initialize({type:document.getElementById("input-type").value,sort:document.getElementById("input-sort").value})};var i={name:document.getElementById("personName"),email:document.getElementById("personEmail"),message:document.getElementById("personMessage"),submit:document.getElementById("form__submit-button"),button:document.getElementById("close-confirmation-button"),infoDiv:document.getElementById("form-submitted")};i.validate=function(e){e.preventDefault();var t={name:this.name.value,email:this.email.value,message:this.message.value};this.send(t)},i.showConfirmation=function(){this.name.value=null,this.email.value=null,this.message.value=null,this.infoDiv.classList.remove("form-submitted--hidden"),this.infoDiv.classList.add("form-submitted--visible"),this.button.addEventListener("blur",function(e){13!==e.keyCode&&this.button.focus()}.bind(this),!1),this.button.addEventListener("click",function(){this.infoDiv.classList.remove("form-submitted--visible"),this.infoDiv.classList.add("form-submitted--hidden")}.bind(this),!1),setTimeout(function(){this.button.focus()}.bind(this),300)},i.send=function(e){var t=JSON.stringify(e),n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&200===n.status?this.showConfirmation():4===n.readyState&&200!==n.status&&alert("Ooops, there was and error: "+n.responseText+"\nPlease try again, or email us manually at herbrandapartment@gmail.com\nThank you.")}.bind(this),n.open("POST","/"),n.setRequestHeader("Content-type","application/json;charset=UTF-8"),n.send(t)};var s={setInputType:function(e){this.type=e},getInputType:function(){return this.type},setInputSort:function(e){this.sort=e},getInputSort:function(){return this.sort}};s.init=function(){var e=document.getElementById("input-type"),t=document.getElementById("input-sort"),n=document.querySelectorAll(".gallery__link"),s=document.querySelector(".menu-list"),o=s.children[s.children.length-1],r=document.getElementById("contact-form");arr=Array.prototype.slice.call(n),this.setInputType(e.value),this.setInputSort(t.value),e.addEventListener("change",this.clickListener.bind(this),!1),t.addEventListener("change",this.clickListener.bind(this),!1),arr.map(function(e){e.addEventListener("click",a.init.bind(a),!1)}),o.addEventListener("keydown",NAVIGATION.hideFocus.bind(NAVIGATION),!1),s.addEventListener("click",NAVIGATION.hideClick.bind(NAVIGATION),!1),document.body.addEventListener("click",NAVIGATION.hideClickOut.bind(NAVIGATION),!1),r.addEventListener("submit",i.validate.bind(i),!1)},s.clickListener=function(e){var t=e.src||e.target,n=t.value,i={};"input-type"===t.id&&this.setInputType(n),"input-sort"===t.id&&this.setInputSort(n),i={type:this.getInputType(),sort:this.getInputSort()},o.initialize(i)};var a={collection:document.querySelectorAll(".gallery__item"),div:document.getElementById("full-screen-gallery"),closeBtn:document.createElement("button"),checkIfFiredAlready:!1,windowWidth:window.innerWidth};a.init=function(e){e.preventDefault();var t={},n={};content="",e.srcElement?(t="IMG"!==e.srcElement.nodeName?e.srcElement.firstChild:e.srcElement,n="IMG"!==e.srcElement.nodeName?e.srcElement:e.srcElement.parentElement):(t="IMG"!==e.target.nodeName?e.target.firstChild:e.target,n="IMG"!==e.target.nodeName?e.target:e.target.parentElement),arr=Array.prototype.slice.call(this.collection),this.div.classList.add("full-screen-gallery--visible"),this.closeBtn.classList.add("full-screen-gallery__button"),this.closeBtn.setAttribute("aria-label","Press enter to close gallery, use buttons to scroll gallery"),arr.map(function(e,n){var i=n+1;e.src===t.src?content+='<img class="full-screen-gallery__image" id="image-active" src="./images/'+i+'.jpg" alt="">':content+='<img class="full-screen-gallery__image" src="./images/'+i+'.jpg" alt="">'}.bind(this)),this.closeBtn.addEventListener("click",function(e){this.div.classList.add("full-screen-gallery--hidden"),this.div.classList.remove("full-screen-gallery--visible"),n.focus()}.bind(this),!1),this.closeBtn.addEventListener("keydown",function(e){13!==e.keyCode&&this.div.focus()}.bind(this),!1),this.div.addEventListener("click",function(e){e.srcElement?e.srcElement.src||(this.div.classList.add("full-screen-gallery--hidden"),this.div.classList.remove("full-screen-gallery--visible"),n.focus()):e.target.src||(this.div.classList.add("full-screen-gallery--hidden"),this.div.classList.remove("full-screen-gallery--visible"),n.focus())}.bind(this),!1),this.div.innerHTML=content,this.div.appendChild(this.closeBtn),document.body.appendChild(this.div),this.div.focus();var i=document.getElementById("image-active").offsetTop;this.div.scrollTop=i,this.closeBtn.innerHTML='<span class="fa fa-times"></span>',this.windowWidth>1e3&&(!1===this.checkIfFiredAlready&&alert("TO VIEW GALLERY SCROLL UP OR DOWN\n\nOR USE ARROW KEYS"),this.checkIfFiredAlready=!0)};var o={map:{},service:{},infoWindow:{},distance:{},cords:{lat:51.524813,lng:-.125688},placesList:document.getElementById("map-list")};o.initialize=function(e){this.placesList.innerHTML="";var t={location:this.cords,type:[e.type],rankBy:"rank"===e.sort?google.maps.places.RankBy.PROMINENCE:google.maps.places.RankBy.DISTANCE,radius:"rank"===e.sort?"1000":null};this.map=new google.maps.Map(document.getElementById("map-display"),{center:this.cords,zoom:15,cords:this.cords,disableDefaultUI:!0,gestureHandling:"cooperative"});var n=new google.maps.Marker({map:this.map,position:this.cords});this.infoWindow=new google.maps.InfoWindow,this.service=new google.maps.places.PlacesService(this.map),this.distance=new google.maps.DistanceMatrixService,this.infoWindow.setContent("<span>Herbrand Street<br>Bloomsbury<br>London<br>WC1N</span>"),this.infoWindow.open(this.map,n),this.service.nearbySearch(t,this.callback)},o.callback=function(e,t){if(t==google.maps.places.PlacesServiceStatus.OK)for(var n=0;n<e.length;n++)o.createMarker(e[n])},o.createMarker=function(e){var t=new google.maps.Marker({map:this.map,position:e.geometry.location,icon:{url:"https://developers.google.com/maps/documentation/javascript/images/circle.png"}});google.maps.event.addListener(t,"click",function(){this.service.getDetails(e,function(e,n){n===google.maps.places.PlacesServiceStatus.OK?(this.infoWindow.setContent("<h2>"+e.name+"</h2>"+e.adr_address),this.infoWindow.open(this.map,t)):console.error(n)}.bind(this))}.bind(this)),o.calculateDistance(e,t)},o.calculateDistance=function(e,t){point=function(){return{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}},this.distance.getDistanceMatrix({origins:[this.cords],destinations:[point()],travelMode:"WALKING"},function(n,i){var s=n.rows[0].elements[0].duration.text;this.displayList(s,e,t)}.bind(this))},o.displayList=function(e,t,n){var i=document.createElement("div"),s=document.createElement("button"),a=document.createElement("div"),o="";i.classList.add("map-list__item"),s.classList.add("map-list__button"),a.classList.add("map-list__details-list"),a.classList.add("map-list__details-list--hidden"),s.innerHTML="SEE MORE DETAILS",void 0!==t.photos?o+='<img class="map-list__image" src="'+t.photos[0].getUrl({maxWidth:75,maxHeight:75})+'" alt="">':o+='<img class="map-list__image" src="'+t.icon+'" alt="">',o+='<h3 class="map-list__name">'+t.name+'</h3><span class="map-list__duration">Distance by walking: <b>'+e+"</b></span>",i.innerHTML=o,i.appendChild(a),i.appendChild(s),this.placesList.appendChild(i),i.addEventListener("mouseover",function(){n.setIcon("")},!1),i.addEventListener("mouseleave",function(){n.setIcon("https://developers.google.com/maps/documentation/javascript/images/circle.png")},!1),i.addEventListener("click",function(){this.service.getDetails(t,function(e,t){t===google.maps.places.PlacesServiceStatus.OK?(this.infoWindow.setContent('<span class="place-name"><b>'+e.name+"</b></span>"+e.adr_address+'<a class="place-link" href="'+e.url+'" target="_blank">Open in Maps</a>'),this.infoWindow.open(this.map,n)):console.error(t)}.bind(this))}.bind(this),!1),s.addEventListener("click",function(e){e.stopPropagation(),this.service.getDetails(t,function(e,t){if(t===google.maps.places.PlacesServiceStatus.OK){a.classList.toggle("map-list__details-list--hidden"),a.classList.toggle("map-list__details-list--visible");var n="";void 0!==e.url&&(n+='<a class="details-list__link" href="'+e.url+'" title="Link to place in google maps app" target="_blank"><span class="details-list__icon fa fa-google" aria-hidden="true"></span><span class="details-list__description">Open in Maps</span></a>'),void 0!==e.website&&(n+='<a class="details-list__link" href="'+e.website+'" title="Link to webiste of the place" target="_blank"><span class="details-list__icon fa fa-globe" aria-hidden="true"></span><span class="details-list__description">Website</span></a>'),void 0!==e.rating&&(n+='<div class="details-list__item"><span class="details-list__icon fa fa-star" aria-hidden="true"></span><span class="details-list__description">'+e.rating+"</span></div>"),a.innerHTML=n,a.firstChild.focus()}else console.error(t)})}.bind(this),!1)},NAVIGATION={checkbox:document.getElementById("menu-checkbox")},NAVIGATION.hideFocus=function(e){9!==e.keyCode||e.shiftKey||(this.checkbox.checked=!1)},NAVIGATION.hideClick=function(e){(e.target||e.srcElement).href&&(this.checkbox.checked=!1)},NAVIGATION.hideClickOut=function(e){var t=e.target||e.srcElement;this.checkbox.checked&&"menu__label"!==t.className&&"menu__checkbox"!==t.className&&"menu-list"!==t.className&&(this.checkbox.checked=!1)},new(e("smooth-scroll"))('a[href*="#"]',{easing:"easeInOutQuad"});var r={};r.init=function(){var e=new XMLHttpRequest;e.open("GET","http://api.openweathermap.org/data/2.5/weather?q=London&appid=a472ebd642da3e64e35da328aaf3531c&units=metric",!0),e.onreadystatechange=function(t){if(4!==e.readyState)return!1;200!==e.status&&console.error("Status error: "+e.status);var n={},i=document.getElementById("weather"),s=document.createElement("img"),a=document.createElement("div");s.classList.add("weather__icon"),n=t.srcElement?JSON.parse(t.srcElement.response):JSON.parse(t.target.response),a.innerHTML='<span class="weather__text">'+n.weather[0].main+'</span><span class="weather__text">'+n.main.temp.toFixed(1)+" Â°C</span>",s.src="http://openweathermap.org/img/w/"+n.weather[0].icon+".png",i.appendChild(s),i.appendChild(a)},e.send()},r.init()},{"smooth-scroll":1}]},{},[2]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRhY3QuanMiLCJkb21oYW5kbGVyLmpzIiwiZ2FsbGVyeS5qcyIsIm1hcHMuanMiLCJuYXZpZ2F0aW9uLmpzIiwid2VhdGhlcmFwcC5qcyJdLCJuYW1lcyI6WyJlIiwidCIsIm4iLCJyIiwicyIsIm8iLCJ1IiwiYSIsInJlcXVpcmUiLCJpIiwiRXJyb3IiLCJmIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCIxIiwibW9kdWxlIiwiZ2xvYmFsIiwiZGVmaW5lIiwiYW1kIiwiU21vb3RoU2Nyb2xsIiwid2luZG93IiwidGhpcyIsImRvY3VtZW50IiwiRWxlbWVudCIsInByb3RvdHlwZSIsImlnbm9yZSIsImhlYWRlciIsInNwZWVkIiwib2Zmc2V0IiwiZWFzaW5nIiwiY3VzdG9tRWFzaW5nIiwiYmVmb3JlIiwiYWZ0ZXIiLCJhcmd1bWVudHMiLCJoYXNPd25Qcm9wZXJ0eSIsInBhcnNlSW50IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImhlaWdodCIsImNoYXJBdCIsInN1YnN0ciIsIlN0cmluZyIsImNoYXJDb2RlQXQiLCJJbnZhbGlkQ2hhcmFjdGVyRXJyb3IiLCJ0b1N0cmluZyIsIk1hdGgiLCJtYXgiLCJib2R5Iiwic2Nyb2xsSGVpZ2h0IiwiZG9jdW1lbnRFbGVtZW50Iiwib2Zmc2V0SGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiYyIsIm9mZnNldFBhcmVudCIsIm9mZnNldFRvcCIsImwiLCJmb2N1cyIsImFjdGl2ZUVsZW1lbnQiLCJpZCIsInNldEF0dHJpYnV0ZSIsInN0eWxlIiwib3V0bGluZSIsInNjcm9sbFRvIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJkIiwibSIsImgiLCJnIiwicCIsInYiLCJiIiwieSIsIlMiLCJjYW5jZWxTY3JvbGwiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImFuaW1hdGVTY3JvbGwiLCJPYmplY3QiLCJ0YWdOYW1lIiwicGFnZVlPZmZzZXQiLCJxdWVyeVNlbGVjdG9yIiwiRSIsIkkiLCJPIiwiQSIsIkMiLCJ3IiwiaW5uZXJIZWlnaHQiLCJRIiwiZmxvb3IiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJnZXRBdHRyaWJ1dGUiLCJidXR0b24iLCJtZXRhS2V5IiwiY3RybEtleSIsInRhcmdldCIsImNsb3Nlc3QiLCJ0b0xvd2VyQ2FzZSIsImhvc3RuYW1lIiwibG9jYXRpb24iLCJwYXRobmFtZSIsInRlc3QiLCJocmVmIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiaGFzaCIsInByZXZlbnREZWZhdWx0Iiwic3Vic3RyaW5nIiwic2V0VGltZW91dCIsImRlc3Ryb3kiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaW5pdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZWxmIiwiMiIsIm9ubG9hZCIsIkRPTUhBTkRMRVIiLCJNQVBTIiwiaW5pdGlhbGl6ZSIsInR5cGUiLCJnZXRFbGVtZW50QnlJZCIsInZhbHVlIiwic29ydCIsIkNPTlRBQ1QiLCJuYW1lIiwiZW1haWwiLCJtZXNzYWdlIiwic3VibWl0IiwiaW5mb0RpdiIsInZhbGlkYXRlIiwiY29uZmlnIiwic2VuZCIsInNob3dDb25maXJtYXRpb24iLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGQiLCJrZXlDb2RlIiwiYmluZCIsImRhdGEiLCJKU09OIiwic3RyaW5naWZ5IiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwiYWxlcnQiLCJyZXNwb25zZVRleHQiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsInNldElucHV0VHlwZSIsImdldElucHV0VHlwZSIsInNldElucHV0U29ydCIsImdldElucHV0U29ydCIsImlucHV0VHlwZSIsImlucHV0U29ydCIsImdhbGxlcnkiLCJxdWVyeVNlbGVjdG9yQWxsIiwibWVudUxpc3QiLCJsYXN0TGlzdEl0ZW0iLCJjaGlsZHJlbiIsImNvbnRhY3RGcm9ybSIsImFyciIsIkFycmF5Iiwic2xpY2UiLCJjbGlja0xpc3RlbmVyIiwibWFwIiwiaXRlbSIsIkdBTExFUlkiLCJOQVZJR0FUSU9OIiwiaGlkZUZvY3VzIiwiaGlkZUNsaWNrIiwiaGlkZUNsaWNrT3V0Iiwic3JjIiwiY29sbGVjdGlvbiIsImRpdiIsImNsb3NlQnRuIiwiY3JlYXRlRWxlbWVudCIsImNoZWNrSWZGaXJlZEFscmVhZHkiLCJ3aW5kb3dXaWR0aCIsImlubmVyV2lkdGgiLCJldmVudFNvdXJjZSIsImxpbmtFbGVtZW50IiwiY29udGVudCIsInNyY0VsZW1lbnQiLCJub2RlTmFtZSIsImZpcnN0Q2hpbGQiLCJwYXJlbnRFbGVtZW50IiwiaW5kZXgiLCJpbm5lckhUTUwiLCJhcHBlbmRDaGlsZCIsIm9UIiwic2Nyb2xsVG9wIiwic2VydmljZSIsImluZm9XaW5kb3ciLCJkaXN0YW5jZSIsImNvcmRzIiwibGF0IiwibG5nIiwicGxhY2VzTGlzdCIsInJlcXVlc3QiLCJyYW5rQnkiLCJnb29nbGUiLCJtYXBzIiwicGxhY2VzIiwiUmFua0J5IiwiUFJPTUlORU5DRSIsIkRJU1RBTkNFIiwicmFkaXVzIiwiTWFwIiwiY2VudGVyIiwiem9vbSIsImRpc2FibGVEZWZhdWx0VUkiLCJnZXN0dXJlSGFuZGxpbmciLCJtYXJrZXIiLCJNYXJrZXIiLCJwb3NpdGlvbiIsIkluZm9XaW5kb3ciLCJQbGFjZXNTZXJ2aWNlIiwiRGlzdGFuY2VNYXRyaXhTZXJ2aWNlIiwic2V0Q29udGVudCIsIm5lYXJieVNlYXJjaCIsImNhbGxiYWNrIiwicmVzdWx0cyIsIlBsYWNlc1NlcnZpY2VTdGF0dXMiLCJPSyIsImNyZWF0ZU1hcmtlciIsInBsYWNlIiwiZ2VvbWV0cnkiLCJpY29uIiwidXJsIiwiZXZlbnQiLCJhZGRMaXN0ZW5lciIsImdldERldGFpbHMiLCJyZXN1bHQiLCJhZHJfYWRkcmVzcyIsImNvbnNvbGUiLCJlcnJvciIsImNhbGN1bGF0ZURpc3RhbmNlIiwicG9pbnQiLCJnZXREaXN0YW5jZU1hdHJpeCIsIm9yaWdpbnMiLCJkZXN0aW5hdGlvbnMiLCJ0cmF2ZWxNb2RlIiwicmVzcG9uc2UiLCJkdXJhdGlvbiIsInJvd3MiLCJlbGVtZW50cyIsInRleHQiLCJkaXNwbGF5TGlzdCIsImJ0biIsImRldGFpbHMiLCJzcGFuIiwidW5kZWZpbmVkIiwicGhvdG9zIiwiZ2V0VXJsIiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJzZXRJY29uIiwic3RvcFByb3BhZ2F0aW9uIiwidG9nZ2xlIiwicmVzdWx0c0RhdGEiLCJ3ZWJzaXRlIiwicmF0aW5nIiwiY2hlY2tib3giLCJzaGlmdEtleSIsImNoZWNrZWQiLCJzb3VyY2UiLCJjbGFzc05hbWUiLCJXRUFUSEVSQVBJIiwiY29udGFpbmVyRGl2IiwiaW1hZ2UiLCJwYXJzZSIsIndlYXRoZXIiLCJtYWluIiwidGVtcCIsInRvRml4ZWQiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEVBQUFDLEVBQUFDLEdBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FBQSxJQUFBSixFQUFBRyxHQUFBLENBQUEsSUFBQUosRUFBQUksR0FBQSxDQUFBLElBQUFFLEVBQUEsbUJBQUFDLFNBQUFBLFFBQUEsSUFBQUYsR0FBQUMsRUFBQSxPQUFBQSxFQUFBRixHQUFBLEdBQUEsR0FBQUksRUFBQSxPQUFBQSxFQUFBSixHQUFBLEdBQUEsTUFBQSxJQUFBSyxNQUFBLHVCQUFBTCxFQUFBLEtBQUEsSUFBQU0sRUFBQVQsRUFBQUcsSUFBQU8sWUFBQVgsRUFBQUksR0FBQSxHQUFBUSxLQUFBRixFQUFBQyxRQUFBLFNBQUFaLEdBQUEsSUFBQUUsRUFBQUQsRUFBQUksR0FBQSxHQUFBTCxHQUFBLE9BQUFJLEVBQUFGLEdBQUFGLElBQUFXLEVBQUFBLEVBQUFDLFFBQUFaLEVBQUFDLEVBQUFDLEVBQUFDLEdBQUEsT0FBQUQsRUFBQUcsR0FBQU8sUUFBQSxJQUFBLElBQUFILEVBQUEsbUJBQUFELFNBQUFBLFFBQUFILEVBQUEsRUFBQUEsRUFBQUYsRUFBQVcsT0FBQVQsSUFBQUQsRUFBQUQsRUFBQUUsSUFBQSxPQUFBRCxFQUFBLEVBQUFXLEdBQUEsU0FBQVAsRUFBQVEsRUFBQUosSUFDQSxTQUFBSyxJQUVBLFNBQUFqQixFQUFBQyxHQUFBLG1CQUFBaUIsUUFBQUEsT0FBQUMsSUFBQUQsVUFBQSxXQUFBLE9BQUFqQixFQUFBRCxLQUFBLGlCQUFBWSxFQUFBSSxFQUFBSixRQUFBWCxFQUFBRCxHQUFBQSxFQUFBb0IsYUFBQW5CLEVBQUFELEdBQUEsTUFBQSxJQUFBaUIsRUFBQUEsRUFBQSxvQkFBQUksT0FBQUEsT0FBQUMsS0FBQSxTQUFBdEIsR0FBQSxhQUFBLElBQUFDLEVBQUEsa0JBQUFzQixVQUFBLHFCQUFBdkIsR0FBQSwwQkFBQUEsR0FBQSxZQUFBQSxFQUFBd0IsUUFBQUMsVUFBQXZCLEdBQUF3QixPQUFBLHVCQUFBQyxPQUFBLEtBQUFDLE1BQUEsSUFBQUMsT0FBQSxFQUFBQyxPQUFBLGlCQUFBQyxhQUFBLEtBQUFDLE9BQUEsYUFBQUMsTUFBQSxjQUFBNUIsRUFBQSxXQUFBLElBQUEsSUFBQUwsS0FBQUMsRUFBQSxFQUFBQyxFQUFBZ0MsVUFBQXBCLE9BQUFiLEVBQUFDLEVBQUFELEtBQUEsU0FBQUEsR0FBQSxJQUFBLElBQUFDLEtBQUFELEVBQUFBLEVBQUFrQyxlQUFBakMsS0FBQUYsRUFBQUUsR0FBQUQsRUFBQUMsSUFBQSxDQUFBZ0MsVUFBQWpDLElBQUEsT0FBQUQsR0FBQU8sRUFBQSxTQUFBTixHQUFBLE9BQUFtQyxTQUFBcEMsRUFBQXFDLGlCQUFBcEMsR0FBQXFDLE9BQUEsS0FBQW5DLEVBQUEsU0FBQUgsR0FBQSxNQUFBQSxFQUFBdUMsT0FBQSxLQUFBdkMsRUFBQUEsRUFBQXdDLE9BQUEsSUFBQSxJQUFBLElBQUF2QyxFQUFBQyxFQUFBdUMsT0FBQXpDLEdBQUFLLEVBQUFILEVBQUFZLE9BQUFQLEdBQUEsRUFBQUosRUFBQSxHQUFBTSxFQUFBUCxFQUFBd0MsV0FBQSxLQUFBbkMsRUFBQUYsR0FBQSxDQUFBLEdBQUEsS0FBQUosRUFBQUMsRUFBQXdDLFdBQUFuQyxJQUFBLE1BQUEsSUFBQW9DLHNCQUFBLGlEQUFBeEMsR0FBQUYsR0FBQSxHQUFBQSxHQUFBLElBQUEsS0FBQUEsR0FBQSxJQUFBTSxHQUFBTixHQUFBLElBQUFBLEdBQUEsSUFBQSxJQUFBTSxHQUFBTixHQUFBLElBQUFBLEdBQUEsSUFBQSxLQUFBUSxFQUFBLEtBQUFSLEVBQUEyQyxTQUFBLElBQUEsSUFBQTNDLEdBQUEsS0FBQSxLQUFBQSxHQUFBLEtBQUFBLEdBQUFBLEdBQUEsSUFBQUEsR0FBQSxJQUFBQSxHQUFBLElBQUFBLEdBQUEsSUFBQUEsR0FBQSxJQUFBQSxHQUFBLElBQUFDLEVBQUFxQyxPQUFBaEMsR0FBQSxLQUFBTCxFQUFBcUMsT0FBQWhDLEdBQUEsTUFBQSxJQUFBSixHQUFBTSxFQUFBLFNBQUFULEVBQUFDLEdBQUEsSUFBQUMsRUFBQSxNQUFBLGVBQUFGLEVBQUE4QixTQUFBNUIsRUFBQUQsRUFBQUEsR0FBQSxnQkFBQUQsRUFBQThCLFNBQUE1QixFQUFBRCxHQUFBLEVBQUFBLElBQUEsa0JBQUFELEVBQUE4QixTQUFBNUIsRUFBQUQsRUFBQSxHQUFBLEVBQUFBLEVBQUFBLEdBQUEsRUFBQSxFQUFBQSxHQUFBQSxFQUFBLEdBQUEsZ0JBQUFELEVBQUE4QixTQUFBNUIsRUFBQUQsRUFBQUEsRUFBQUEsR0FBQSxpQkFBQUQsRUFBQThCLFNBQUE1QixJQUFBRCxFQUFBQSxFQUFBQSxFQUFBLEdBQUEsbUJBQUFELEVBQUE4QixTQUFBNUIsRUFBQUQsRUFBQSxHQUFBLEVBQUFBLEVBQUFBLEVBQUFBLEdBQUFBLEVBQUEsSUFBQSxFQUFBQSxFQUFBLElBQUEsRUFBQUEsRUFBQSxHQUFBLEdBQUEsZ0JBQUFELEVBQUE4QixTQUFBNUIsRUFBQUQsRUFBQUEsRUFBQUEsRUFBQUEsR0FBQSxpQkFBQUQsRUFBQThCLFNBQUE1QixFQUFBLEtBQUFELEVBQUFBLEVBQUFBLEVBQUFBLEdBQUEsbUJBQUFELEVBQUE4QixTQUFBNUIsRUFBQUQsRUFBQSxHQUFBLEVBQUFBLEVBQUFBLEVBQUFBLEVBQUFBLEVBQUEsRUFBQSxJQUFBQSxFQUFBQSxFQUFBQSxFQUFBQSxHQUFBLGdCQUFBRCxFQUFBOEIs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LE9BRUE4RixFQUFBMUksVUFBQUUsSUFBQSxpQkFJQXdGLEVBSEFyRixFQUFBOEMsV0FHQTdDLEtBQUFxSSxNQUFBdEksRUFBQThDLFdBQUE0RCxVQUZBekcsS0FBQXFJLE1BQUF0SSxFQUFBMUMsT0FBQW9KLFVBS0FyRSxFQUFBYyxVQUNBLCtCQUNBa0MsRUFBQWtELFFBQUEsR0FBQUMsS0FDQSxzQ0FFQW5ELEVBQUFtRCxLQUFBQyxLQUFBQyxRQUFBLEdBQUEsYUFJQUwsRUFBQWxHLElBQUEsbUNBQUFrRCxFQUFBa0QsUUFBQSxHQUFBNUMsS0FBQSxPQUNBeUMsRUFBQWhGLFlBQUFpRixHQUNBRCxFQUFBaEYsWUFBQWYiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgIERPTUhBTkRMRVIuaW5pdCgpO1xyXG4gICAgTUFQUy5pbml0aWFsaXplKHtcclxuICAgICAgICB0eXBlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5wdXQtdHlwZScpLnZhbHVlLFxyXG4gICAgICAgIHNvcnQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnB1dC1zb3J0JykudmFsdWVcclxuICAgIH0pO1xyXG5cclxufTtcclxuIiwidmFyIENPTlRBQ1QgPSB7XHJcbiAgICBuYW1lOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVyc29uTmFtZScpLFxyXG4gICAgZW1haWw6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZXJzb25FbWFpbCcpLFxyXG4gICAgbWVzc2FnZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BlcnNvbk1lc3NhZ2UnKSxcclxuICAgIHN1Ym1pdDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm1fX3N1Ym1pdC1idXR0b24nKSxcclxuICAgIGJ1dHRvbjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlLWNvbmZpcm1hdGlvbi1idXR0b24nKSxcclxuICAgIGluZm9EaXY6ICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybS1zdWJtaXR0ZWQnKVxyXG59O1xyXG5cclxuQ09OVEFDVC52YWxpZGF0ZSA9IGZ1bmN0aW9uKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIHZhciBjb25maWcgPSB7XHJcbiAgICAgICAgbmFtZTogdGhpcy5uYW1lLnZhbHVlLFxyXG4gICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLnZhbHVlLFxyXG4gICAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZS52YWx1ZVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnNlbmQoY29uZmlnKTtcclxufTtcclxuXHJcblxyXG5DT05UQUNULnNob3dDb25maXJtYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLm5hbWUudmFsdWUgPSBudWxsO1xyXG4gICAgdGhpcy5lbWFpbC52YWx1ZSA9IG51bGw7XHJcbiAgICB0aGlzLm1lc3NhZ2UudmFsdWUgPSBudWxsO1xyXG5cclxuICAgIHRoaXMuaW5mb0Rpdi5jbGFzc0xpc3QucmVtb3ZlKCdmb3JtLXN1Ym1pdHRlZC0taGlkZGVuJyk7XHJcbiAgICB0aGlzLmluZm9EaXYuY2xhc3NMaXN0LmFkZCgnZm9ybS1zdWJtaXR0ZWQtLXZpc2libGUnKTtcclxuXHJcbiAgICB0aGlzLmJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgaWYgKGUua2V5Q29kZSAhPT0gMTMpIHtcclxuICAgICAgICAgICAgdGhpcy5idXR0b24uZm9jdXMoKTtcclxuICAgICAgICB9XHJcbiAgICB9LmJpbmQodGhpcyksIGZhbHNlKTtcclxuXHJcblxyXG4gICAgdGhpcy5idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xyXG4gICAgICAgIHRoaXMuaW5mb0Rpdi5jbGFzc0xpc3QucmVtb3ZlKCdmb3JtLXN1Ym1pdHRlZC0tdmlzaWJsZScpO1xyXG4gICAgICAgIHRoaXMuaW5mb0Rpdi5jbGFzc0xpc3QuYWRkKCdmb3JtLXN1Ym1pdHRlZC0taGlkZGVuJyk7XHJcblxyXG5cclxuICAgIH0uYmluZCh0aGlzKSwgZmFsc2UpO1xyXG5cclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICB0aGlzLmJ1dHRvbi5mb2N1cygpO1xyXG4gICAgfS5iaW5kKHRoaXMpLCAzMDApO1xyXG59O1xyXG5cclxuQ09OVEFDVC5zZW5kID0gZnVuY3Rpb24oY29uZmlnKSB7XHJcblxyXG4gICAgdmFyIGRhdGEgPSBKU09OLnN0cmluZ2lmeShjb25maWcpO1xyXG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cclxuICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZih4aHIucmVhZHlTdGF0ZSA9PT0gNCAmJiB4aHIuc3RhdHVzID09PSAyMDApXHJcbiAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICB0aGlzLnNob3dDb25maXJtYXRpb24oKTtcclxuICAgICAgICAgICB9IGVsc2UgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0ICYmIHhoci5zdGF0dXMgIT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgIGFsZXJ0KCdPb29wcywgdGhlcmUgd2FzIGFuZCBlcnJvcjogJyArIHhoci5yZXNwb25zZVRleHQgKydcXG5QbGVhc2UgdHJ5IGFnYWluLCBvciBlbWFpbCB1cyBtYW51YWxseSBhdCBoZXJicmFuZGFwYXJ0bWVudEBnbWFpbC5jb21cXG5UaGFuayB5b3UuJyk7XHJcbiAgICAgICAgICAgfVxyXG4gICAgfS5iaW5kKHRoaXMpO1xyXG5cclxuICAgIHhoci5vcGVuKCdQT1NUJywgJy8nKTtcclxuICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsIFwiYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04XCIpO1xyXG4gICAgeGhyLnNlbmQoZGF0YSk7XHJcbn07XHJcbiIsIlxyXG4vL0RPTUhBTkRMRVJcclxuXHJcbnZhciBET01IQU5ETEVSID0ge1xyXG4gICAgc2V0SW5wdXRUeXBlOiBmdW5jdGlvbih0eXBlKSB7XHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcclxuICAgIH0sXHJcbiAgICBnZXRJbnB1dFR5cGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnR5cGU7XHJcbiAgICB9LFxyXG4gICAgc2V0SW5wdXRTb3J0OiBmdW5jdGlvbihzb3J0KSB7XHJcbiAgICAgICAgdGhpcy5zb3J0ID0gc29ydDtcclxuICAgIH0sXHJcbiAgICBnZXRJbnB1dFNvcnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNvcnQ7XHJcbiAgICB9XHJcbn07XHJcblxyXG4vL0lOSVQgTUFJTiBFVkVOVFMgSU4gVEhFIFRPTVxyXG5ET01IQU5ETEVSLmluaXQgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIGlucHV0VHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnB1dC10eXBlJyksXHJcbiAgICAgICAgaW5wdXRTb3J0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lucHV0LXNvcnQnKSxcclxuICAgICAgICBnYWxsZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmdhbGxlcnlfX2xpbmsnKSxcclxuICAgICAgICBtZW51TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZW51LWxpc3QnKSxcclxuICAgICAgICBsYXN0TGlzdEl0ZW0gPSBtZW51TGlzdC5jaGlsZHJlblttZW51TGlzdC5jaGlsZHJlbi5sZW5ndGgtMV0sXHJcbiAgICAgICAgY29udGFjdEZyb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhY3QtZm9ybScpO1xyXG4gICAgICAgIGFyciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGdhbGxlcnkpO1xyXG4gICAgICAgIC8vU0VUIFRZUEVTIE9OIERPTUhBTkRMRVIgT0JKRUNUIEFORCBBREQgTElTVEVORVJTIFRPIFRIT1NFIElOUFVUU1xyXG4gICAgICAgIHRoaXMuc2V0SW5wdXRUeXBlKGlucHV0VHlwZS52YWx1ZSk7XHJcbiAgICAgICAgdGhpcy5zZXRJbnB1dFNvcnQoaW5wdXRTb3J0LnZhbHVlKTtcclxuICAgICAgICBpbnB1dFR5cGUuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5jbGlja0xpc3RlbmVyLmJpbmQodGhpcyksIGZhbHNlKTtcclxuICAgICAgICBpbnB1dFNvcnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5jbGlja0xpc3RlbmVyLmJpbmQodGhpcyksIGZhbHNlKTtcclxuXHJcbiAgICAgICAgLy9BREQgTElTVEVORVIgRk9SIEdBTExFUllcclxuICAgICAgICBhcnIubWFwKGZ1bmN0aW9uKGl0ZW0pe1xyXG4gICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgR0FMTEVSWS5pbml0LmJpbmQoR0FMTEVSWSksIGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9DSEVDSyBXSEVOIFRBQkJJTkcgT1VUIEZST00gTkFWSUdBVElPTlxyXG5cclxuICAgICAgICBsYXN0TGlzdEl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIE5BVklHQVRJT04uaGlkZUZvY3VzLmJpbmQoTkFWSUdBVElPTiksIGZhbHNlKTtcclxuXHJcbiAgICAgICAgbWVudUxpc3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBOQVZJR0FUSU9OLmhpZGVDbGljay5iaW5kKE5BVklHQVRJT04pLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBOQVZJR0FUSU9OLmhpZGVDbGlja091dC5iaW5kKE5BVklHQVRJT04pLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIGNvbnRhY3RGcm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBDT05UQUNULnZhbGlkYXRlLmJpbmQoQ09OVEFDVCksIGZhbHNlKTtcclxufTtcclxuXHJcblxyXG5cclxuLy9DTElDSyBMSVNURU5FUkUgT04gVFdPIHNlbGVjdCBpbnB1dHMgKHJlc3BvbnNpYmxlIGZvciBjaGFnaW5nIG1hcCBkZXRhaWxzIHNvcnRpbmcpXHJcbkRPTUhBTkRMRVIuY2xpY2tMaXN0ZW5lciA9IGZ1bmN0aW9uKGUpIHtcclxuICAgIHZhciBzcmMgPSBlLnNyYyB8fCBlLnRhcmdldCxcclxuICAgICAgICB2YWx1ZSA9IHNyYy52YWx1ZSxcclxuICAgICAgICBjb25maWcgPSB7fTtcclxuXHJcbiAgICBpZiAoc3JjLmlkID09PSAnaW5wdXQtdHlwZScpIHtcclxuICAgICAgICB0aGlzLnNldElucHV0VHlwZSh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc3JjLmlkID09PSAnaW5wdXQtc29ydCcpIHtcclxuICAgICAgICB0aGlzLnNldElucHV0U29ydCh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjb25maWcgPSB7XHJcbiAgICAgICAgdHlwZTogdGhpcy5nZXRJbnB1dFR5cGUoKSxcclxuICAgICAgICBzb3J0OiB0aGlzLmdldElucHV0U29ydCgpXHJcbiAgICB9O1xyXG5cclxuICAgIE1BUFMuaW5pdGlhbGl6ZShjb25maWcpO1xyXG59O1xyXG4iLCIvL0dBTExFUlkgT0JKRUNUIFdJVEggTUFJTiBQUk9QRVJUSUVTIE9OIElUXHJcblxyXG52YXIgR0FMTEVSWSA9IHtcclxuICAgIGNvbGxlY3Rpb246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5nYWxsZXJ5X19pdGVtJyksXHJcbiAgICBkaXY6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmdWxsLXNjcmVlbi1nYWxsZXJ5JyksXHJcbiAgICBjbG9zZUJ0bjogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyksXHJcbiAgICBjaGVja0lmRmlyZWRBbHJlYWR5OiBmYWxzZSxcclxuICAgIHdpbmRvd1dpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aFxyXG59O1xyXG5cclxuXHJcbi8vRlVOQ1RJT04gVEhBVCBJTklUSUFMSVpFIEdBTExFUlkgRVZFUllUSU1FIElNQUdFIElTIENMSUNLRURcclxuR0FMTEVSWS5pbml0ID0gZnVuY3Rpb24oZSl7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cclxuICAgIC8vYmVsb3cgMiB2YXJpYWJsZXMgYXJlIGNoZWNraW5nIGlmIGNsaWNrZWQgZWxlbWVudCB3YXMgaW1hZ2UgKGNsaWNrKSBvciBsaW5rIChrZXkgcHJlc3MpXHJcbiAgICAvL2FuZCBnZXRzIHNvdXJjZSBiYXNlIG9uIHRoYXRcclxuICAgIHZhciBldmVudFNvdXJjZSA9IHt9LFxyXG4gICAgICAgIGxpbmtFbGVtZW50ID0ge307XHJcbiAgICAgICAgY29udGVudCA9ICcnO1xyXG5cclxuICAgICAgICBpZighZS5zcmNFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGV2ZW50U291cmNlID0gKGUudGFyZ2V0Lm5vZGVOYW1lICE9PSAnSU1HJykgPyBlLnRhcmdldC5maXJzdENoaWxkIDogZS50YXJnZXQ7XHJcbiAgICAgICAgICAgIGxpbmtFbGVtZW50ID0gKGUudGFyZ2V0Lm5vZGVOYW1lICE9PSAnSU1HJykgPyBlLnRhcmdldCA6IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZXZlbnRTb3VyY2UgPSAoZS5zcmNFbGVtZW50Lm5vZGVOYW1lICE9PSAnSU1HJykgPyBlLnNyY0VsZW1lbnQuZmlyc3RDaGlsZCA6IGUuc3JjRWxlbWVudDtcclxuICAgICAgICAgICAgbGlua0VsZW1lbnQgPSAoZS5zcmNFbGVtZW50Lm5vZGVOYW1lICE9PSAnSU1HJykgPyBlLnNyY0VsZW1lbnQgOiBlLnNyY0VsZW1lbnQucGFyZW50RWxlbWVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vYmVsbG93IGlzIHR1cm5pbmcgaHRtbCBjb2xsZWN0aW9uIGludG8gYXJyYXlcclxuICAgICAgICBhcnIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCggdGhpcy5jb2xsZWN0aW9uICk7XHJcblxyXG4gICAgICAgIC8vYWRkIGNsYXNzZXMgYW5kIGF0dHJpYnV0ZXMgdG8gaHRtbCBlbGVtZW50c1xyXG4gICAgICAgIHRoaXMuZGl2LmNsYXNzTGlzdC5hZGQoJ2Z1bGwtc2NyZWVuLWdhbGxlcnktLXZpc2libGUnKTtcclxuICAgICAgICB0aGlzLmNsb3NlQnRuLmNsYXNzTGlzdC5hZGQoJ2Z1bGwtc2NyZWVuLWdhbGxlcnlfX2J1dHRvbicpO1xyXG4gICAgICAgIHRoaXMuY2xvc2VCdG4uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ1ByZXNzIGVudGVyIHRvIGNsb3NlIGdhbGxlcnksIHVzZSBidXR0b25zIHRvIHNjcm9sbCBnYWxsZXJ5Jyk7XHJcblxyXG4gICAgICAgIC8vbWFwIHRocm91Z2ggY29sZWN0aW9uIG9mIGltYWdlcyBhbmQgYXBwZW5kIGRhdGEgdG8gJ2NvbnRlbnQnIHZhcmlhYmxlXHJcbiAgICAgICAgYXJyLm1hcChmdW5jdGlvbihpdGVtLCBpbmRleCl7XHJcbiAgICAgICAgICAgIHZhciBpZCA9IGluZGV4KzE7XHJcbiAgICAgICAgICAgIGlmKGl0ZW0uc3JjID09PSBldmVudFNvdXJjZS5zcmMpe1xyXG4gICAgICAgICAgICAgICAgY29udGVudCArPVxyXG4gICAgICAgICAgICAgICAgICAgICc8aW1nIGNsYXNzPVwiZnVsbC1zY3JlZW4tZ2FsbGVyeV9faW1hZ2VcIiBpZD1cImltYWdlLWFjdGl2ZVwiIHNyYz1cIi4vaW1hZ2VzLycraWQrJy5qcGdcIiBhbHQ9XCJcIj4nO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29udGVudCArPVxyXG4gICAgICAgICAgICAgICAgJzxpbWcgY2xhc3M9XCJmdWxsLXNjcmVlbi1nYWxsZXJ5X19pbWFnZVwiIHNyYz1cIi4vaW1hZ2VzLycraWQrJy5qcGdcIiBhbHQ9XCJcIj4nO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0uYmluZCh0aGlzKSk7XHJcblxyXG4gICAgICAgIC8vd2hlbiBjbG9zZSBidXR0b24gaXMgY2xpY2tlZCwgcmVtb3ZlIHRoZSBjbGFzcyBhbmQgZm9jdXMgcHJldmlvdXNseSBvcGVuZWQgbGlua1xyXG4gICAgICAgIHRoaXMuY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnZnVsbC1zY3JlZW4tZ2FsbGVyeS0taGlkZGVuJyk7XHJcbiAgICAgICAgICAgIHRoaXMuZGl2LmNsYXNzTGlzdC5yZW1vdmUoJ2Z1bGwtc2NyZWVuLWdhbGxlcnktLXZpc2libGUnKTtcclxuICAgICAgICAgICAgbGlua0VsZW1lbnQuZm9jdXMoKTtcclxuICAgICAgICB9LmJpbmQodGhpcyksIGZhbHNlKTtcclxuXHJcbiAgICAgICAgLy93aGVuIGJ1dHRvbiBpcyBwcmVzc2VkIHdpdGgga2V5Ym9yZCwgY2hlY2sgaWYgaXQgV0FTIE5PVCBlbnRlciBhbmQgcHJldmVudCBmb3IgZm9jdXNpbmcgb3RoZXIgZWxlbWVudHNcclxuICAgICAgICB0aGlzLmNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSAhPT0gMTMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGl2LmZvY3VzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LmJpbmQodGhpcyksIGZhbHNlKTtcclxuXHJcbiAgICAgICAgLy9jbG9zZSBnYWxsZXJ5IHdoZW4gY2xpY2tlZCBhbnl3aGVyZSBvdXRzaWRlIGltYWdlXHJcbiAgICAgICAgdGhpcy5kaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgLy9jaGVjayBpZiBicm93c2VyIHN1cHBvcnN0IGUuc3JjRWxlbWVudFxyXG4gICAgICAgICAgICBpZiAoZS5zcmNFbGVtZW50KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9pZiBlbGVtZW50IHRoYXQgd2FzIGNsaWNrZWQgd2Fzbid0IGltYWdlIC0gY2xvc2UgdGhlIGRpdlxyXG4gICAgICAgICAgICAgICAgaWYgKCFlLnNyY0VsZW1lbnQuc3JjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnZnVsbC1zY3JlZW4tZ2FsbGVyeS0taGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXYuY2xhc3NMaXN0LnJlbW92ZSgnZnVsbC1zY3JlZW4tZ2FsbGVyeS0tdmlzaWJsZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmtFbGVtZW50LmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9pZiBlbGVtZW50IHRoYXQgd2FzIGNsaWNrZWQgd2Fzbid0IGltYWdlIC0gY2xvc2UgdGhlIGRpdlxyXG4gICAgICAgICAgICAgICAgaWYgKCFlLnRhcmdldC5zcmMpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdmdWxsLXNjcmVlbi1nYWxsZXJ5LS1oaWRkZW4nKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QucmVtb3ZlKCdmdWxsLXNjcmVlbi1nYWxsZXJ5LS12aXNpYmxlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlua0VsZW1lbnQuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0uYmluZCh0aGlzKSwgZmFsc2UpO1xyXG5cclxuICAgICAgICAvL2FwcGVuZCBtYXBwZWQgY29udGVudCB0byB0aGUgZGl2IGFuZCBhZGQgYnV0dG9uIGluIHRoZSBlbmRcclxuICAgICAgICB0aGlzLmRpdi5pbm5lckhUTUwgPSBjb250ZW50O1xyXG4gICAgICAgIHRoaXMuZGl2LmFwcGVuZENoaWxkKHRoaXMuY2xvc2VCdG4pO1xyXG5cclxuICAgICAgICAvL2FwcGVuZCBkaXYgdG8gYm9keVxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO1xyXG5cclxuICAgICAgICAvL2ZvY3VzIHRoZSBjdXJyZW50IGRpdiAodGhpcyBpcyB0byBtYWtlIHBvc3NpYmxlIHNjcm9sbGluZyB3aXRoIGFycm93IGtleXMpXHJcbiAgICAgICAgdGhpcy5kaXYuZm9jdXMoKTtcclxuXHJcbiAgICAgICAgLy9HZXQgb2Zmc2V0IG9mIGFjdGl2ZSBlbGVtZW50ICh0aGUgb25lIHRoYXQgd2FzIGNsaWNrZWQgb24gdGh1bWJuYWlsKSBhbmQgc2Nyb2xsIHRvIGl0J3MgcG9zaXRpb25cclxuICAgICAgICB2YXIgb1QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1hZ2UtYWN0aXZlJykub2Zmc2V0VG9wO1xyXG4gICAgICAgIHRoaXMuZGl2LnNjcm9sbFRvcCA9IG9UO1xyXG5cclxuICAgICAgICAvL2FkZCB0ZXh0IHRvIHRoZSBjbG9zZSBidXR0b25cclxuICAgICAgICB0aGlzLmNsb3NlQnRuLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cImZhIGZhLXRpbWVzXCI+PC9zcGFuPic7XHJcblxyXG4gICAgICAgIC8vaWYgd2luZG93IGlzIHdpZGVyIHRoYW4gMTAwMHB4IGFsZXJ0IGluc3RydWN0aW9uIGFib3V0IGdhbGxlcnkgc2Nyb2xsaW5nXHJcbiAgICAgICAgLy9vbiB3aWRlciBzY3JlZW4gaW1hZ2UgbWF5IHRha2UgZnVsbCBoZWlnaHQgYW5kIGl0IG1heSBiZSBoYXJkIHRvIGZpZ3VyZSBvdXQgaG93IHRvIG5hdmlnYXRlIHRocm91Z2ggZ2FsbGVyeVxyXG4gICAgICAgIGlmICh0aGlzLndpbmRvd1dpZHRoID4gMTAwMCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jaGVja0lmRmlyZWRBbHJlYWR5ID09PSBmYWxzZSl7XHJcbiAgICAgICAgICAgICAgICBhbGVydCgnVE8gVklFVyBHQUxMRVJZIFNDUk9MTCBVUCBPUiBET1dOXFxuXFxuT1IgVVNFIEFSUk9XIEtFWVMnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNoZWNrSWZGaXJlZEFscmVhZHkgPSB0cnVlO1xyXG4gICAgICAgIH1cclxufTtcclxuIiwidmFyIE1BUFMgPSB7XHJcbiAgICBtYXA6IHt9LFxyXG4gICAgc2VydmljZToge30sXHJcbiAgICBpbmZvV2luZG93OiB7fSxcclxuICAgIGRpc3RhbmNlOiB7fSxcclxuICAgIGNvcmRzOiB7bGF0OiA1MS41MjQ4MTMsIGxuZzogLTAuMTI1Njg4fSxcclxuICAgIHBsYWNlc0xpc3Q6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAtbGlzdCcpXHJcbn07XHJcblxyXG4vL0lOSVRJQUxJWkUgVEhFIE1BUCAoRklSRUQgT04gVEhFIFNUQVJUIEFORCBPTiBFVkVSWSBDSEFOR0UgT0YgREFUQSAoRlJPTSBTTEVDVCBJTlBVVDogVFlQRSBBTkQgU09SVCkpXHJcbk1BUFMuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKGNvbmZpZyl7XHJcblxyXG4gICAgLy9DTEVBUiBUSEUgTElTVCBPRiBQTEFDRVMgQkVGT1JFIElOSVRJQUxJWklOR1xyXG4gICAgdGhpcy5wbGFjZXNMaXN0LmlubmVySFRNTCA9ICcnO1xyXG5cclxuICAgIC8vUkVRIE9CSjogVEFLRVMgUkFOSywgVFlQRSBGUk9NIENPTkZJRyBBUkdVTUVOVCBQQVNTRUQgVE8gVEhJUyBGVU5DVElPTiBBTkQgU0VUUyBEQVRBIERFUEVORElORyBPTiBUSEFUXHJcbiAgICB2YXIgcmVxdWVzdCA9IHtcclxuICAgICAgICAgICAgbG9jYXRpb246IHRoaXMuY29yZHMsXHJcbiAgICAgICAgICAgIHR5cGU6IFtjb25maWcudHlwZV0sXHJcbiAgICAgICAgICAgIHJhbmtCeTogKGNvbmZpZy5zb3J0ID09PSAncmFuaycpID8gZ29vZ2xlLm1hcHMucGxhY2VzLlJhbmtCeS5QUk9NSU5FTkNFIDogZ29vZ2xlLm1hcHMucGxhY2VzLlJhbmtCeS5ESVNUQU5DRSxcclxuICAgICAgICAgICAgcmFkaXVzOiAoY29uZmlnLnNvcnQgPT09ICdyYW5rJykgPyAnMTAwMCcgOiBudWxsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAvL0NSRUFURSBORVcgR09PR0xFIE1BUFxyXG4gICAgdGhpcy5tYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAtZGlzcGxheScpLHtcclxuICAgICAgICBjZW50ZXI6IHRoaXMuY29yZHMsXHJcbiAgICAgICAgem9vbTogMTUsXHJcbiAgICAgICAgY29yZHM6IHRoaXMuY29yZHMsXHJcbiAgICAgICAgZGlzYWJsZURlZmF1bHRVSTogdHJ1ZSxcclxuICAgICAgICBnZXN0dXJlSGFuZGxpbmc6ICdjb29wZXJhdGl2ZSdcclxuICAgIH0pO1xyXG5cclxuICAgIC8vQ1JFQVRFIE1BUktFUiAoSUNPTikgRk9SIENFTlRFUiBQT0lOVFxyXG4gICAgdmFyIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xyXG4gICAgICAgIG1hcDogdGhpcy5tYXAsXHJcbiAgICAgICAgcG9zaXRpb246IHRoaXMuY29yZHNcclxuICAgIH0pO1xyXG5cclxuICAgIC8vSU5JVElBTElaRSBPVEhFUiBHT09HTEUgU0VSVklDRVNcclxuICAgIHRoaXMuaW5mb1dpbmRvdyA9IG5ldyBnb29nbGUubWFwcy5JbmZvV2luZG93KCk7XHJcbiAgICB0aGlzLnNlcnZpY2UgPSBuZXcgZ29vZ2xlLm1hcHMucGxhY2VzLlBsYWNlc1NlcnZpY2UodGhpcy5tYXApO1xyXG4gICAgdGhpcy5kaXN0YW5jZSA9IG5ldyBnb29nbGUubWFwcy5EaXN0YW5jZU1hdHJpeFNlcnZpY2UoKTtcclxuXHJcblxyXG4gICAgdGhpcy5pbmZvV2luZG93LnNldENvbnRlbnQoJzxzcGFuPkhlcmJyYW5kIFN0cmVldDxicj5CbG9vbXNidXJ5PGJyPkxvbmRvbjxicj5XQzFOPC9zcGFuPicpO1xyXG4gICAgdGhpcy5pbmZvV2luZG93Lm9wZW4odGhpcy5tYXAsIG1hcmtlcik7XHJcbiAgICAvL0lOSVRJQUxJWkUgbmVhcmJ5U2VhcmNoIFRPIEZJTkQgUExBQ0VTIElOIExPQ0FMIEFSRUEgQU5EIENBTEwgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAgIHRoaXMuc2VydmljZS5uZWFyYnlTZWFyY2gocmVxdWVzdCwgdGhpcy5jYWxsYmFjayk7XHJcblxyXG59O1xyXG5cclxuLy9TRUFSQ0ggRk9SIERBVEEgQkFTSU5HIE9OIFJFUVVFU1QgT0JKIEZST00gQUJPVkUgQU5EIENSRUFURSBNQVJLRVJTIE9OIE1BUCBGT1IgUExBQ0VTXHJcbk1BUFMuY2FsbGJhY2sgPSBmdW5jdGlvbihyZXN1bHRzLCBzdGF0dXMpIHtcclxuICAgIGlmIChzdGF0dXMgPT0gZ29vZ2xlLm1hcHMucGxhY2VzLlBsYWNlc1NlcnZpY2VTdGF0dXMuT0spIHtcclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8cmVzdWx0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBNQVBTLmNyZWF0ZU1hcmtlcihyZXN1bHRzW2ldKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG4vL0FDVFVBTCBGVU5DVElPTiBSRVNQT05TSUJMRSBGT1IgQ1JFQVRJTkcgTUFSS0VSU1xyXG4vL0lUIFNFVFMgVEhFIE1BUktFUiBGT1IgRUFDSCBQTEFDRSBGT1VORCBJTiBjYWxsYmFjayBGVU5DVElPTiBBQk9WRVxyXG4vL0FORCBDQUxMUyAnQ0FMQ1VMQVRFIERJU1RBTkNFL0RJU1BMQVkgTElTVCcgRlVOQ1RJT04gV0hJQ0ggV0lMTCBTSE9XIFRIRSBMSVNUXHJcbk1BUFMuY3JlYXRlTWFya2VyID0gZnVuY3Rpb24ocGxhY2UpIHtcclxuXHJcbiAgICAvL0NSRUFURSBORVcgTUFSS0VSXHJcbiAgICB2YXIgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XHJcbiAgICAgICAgbWFwOiB0aGlzLm1hcCxcclxuICAgICAgICBwb3NpdGlvbjogcGxhY2UuZ2VvbWV0cnkubG9jYXRpb24sXHJcbiAgICAgICAgaWNvbjoge1xyXG4gICAgICAgICAgICB1cmw6ICdodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9tYXBzL2RvY3VtZW50YXRpb24vamF2YXNjcmlwdC9pbWFnZXMvY2lyY2xlLnBuZydcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL0FERCBDTElDSyBMSVNURU5FUiBPTiBBQ1RVQUwgTUFSS0VSXHJcbiAgICBnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihtYXJrZXIsICdjbGljaycsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdGhpcy5zZXJ2aWNlLmdldERldGFpbHMocGxhY2UsIGZ1bmN0aW9uKHJlc3VsdCwgc3RhdHVzKXtcclxuICAgICAgICAgICAgaWYgKHN0YXR1cyAhPT0gZ29vZ2xlLm1hcHMucGxhY2VzLlBsYWNlc1NlcnZpY2VTdGF0dXMuT0spIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3Ioc3RhdHVzKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9TRVQgQ09OVEVOVCBPRiBJTkZPV0lORE9XIFRIQVQgV0lMTCBPUEVOIEFGVEVSIE1BUktFUiBJUyBDTElDS0VEXHJcbiAgICAgICAgICAgIHRoaXMuaW5mb1dpbmRvdy5zZXRDb250ZW50KCc8aDI+JytyZXN1bHQubmFtZSsnPC9oMj4nICsgcmVzdWx0LmFkcl9hZGRyZXNzICk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5mb1dpbmRvdy5vcGVuKHRoaXMubWFwLCBtYXJrZXIpO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICB9LmJpbmQodGhpcykpO1xyXG5cclxuICAgIC8vQ0FMTCBGVU5DVElPTiBUSEFUIFdJTEwgQ0FMQ1VMQVRFIFRIRSBESVNUQU5DRVxyXG4gICAgTUFQUy5jYWxjdWxhdGVEaXN0YW5jZShwbGFjZSwgbWFya2VyKTtcclxuXHJcbn07XHJcblxyXG4vL1RISVMgRlVOQ1RJT04gQ0FMQ1VMQVRFUyBUSEUgRElTVEFOQ0UgQkVUV0VFTiBUV08gUE9JTlRTOiBNQUlOIEFORCBFQUNIIFBBQ0UgRk9VTkQgSU4gY2FsbGJhY2sgRlVOQ1RJT04gQUJPVkVcclxuLy9JVCBUQUtTRSBwbGFjZSBBTkQgbWFya2VyIEFTIFBBUkFNRVRFUlMuIE1BUktFUiBJUyBORUVERUQgVE8gTElOSyBUSEUgTElTVCBXSVRIIEFDVFVBTCBNQVJLRVIgT04gVEhFIE1BUCBMQVRFUlxyXG5NQVBTLmNhbGN1bGF0ZURpc3RhbmNlID0gZnVuY3Rpb24ocGxhY2UsIG1hcmtlcikge1xyXG5cclxuICAgICAgICAvL1BPSU5UIFJFVFVSTlMgQUNUVUFMIExBVCBBTkQgTE5HIE9GIFRIRSBQTEFDRSBUTyBIRUxQIENBTENVTEFUSU5HIFRIRSBESVNUQU5DRVxyXG4gICAgICAgIHBvaW50ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdmFyIGxhdCA9IHBsYWNlLmdlb21ldHJ5LmxvY2F0aW9uLmxhdCgpLFxyXG4gICAgICAgICAgICAgICAgbG5nID0gcGxhY2UuZ2VvbWV0cnkubG9jYXRpb24ubG5nKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBsYXQ6IGxhdCxcclxuICAgICAgICAgICAgICAgIGxuZzogbG5nXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9HRVQgRElTVEFOQ0UgQkVUV0VFTiBvcmlnaW5zIEFORCBkZXN0aW5hdGlvbnMgV0lUSCAnV0FMS0lORycgTU9ERVxyXG4gICAgICAgIHRoaXMuZGlzdGFuY2UuZ2V0RGlzdGFuY2VNYXRyaXgoe1xyXG4gICAgICAgICAgICBvcmlnaW5zOiBbdGhpcy5jb3Jkc10sXHJcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uczogW3BvaW50KCldLFxyXG4gICAgICAgICAgICB0cmF2ZWxNb2RlOiAnV0FMS0lORydcclxuICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSxzdGF0dXMpe1xyXG4gICAgICAgICAgICAvL2dldCBkdXJhdGlvbiB2YWx1ZSAoaW4gbWl1dGVzKVxyXG4gICAgICAgICAgICB2YXIgZHVyYXRpb24gPSByZXNwb25zZS5yb3dzWzBdLmVsZW1lbnRzWzBdLmR1cmF0aW9uLnRleHQ7XHJcblxyXG4gICAgICAgICAgICAvL0NBTEwgVEhFIERJU1BMQVkgTElTVCBmdW5jdGlvblxyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlMaXN0KGR1cmF0aW9uLCBwbGFjZSwgbWFya2VyKTtcclxuICAgICAgICB9LmJpbmQodGhpcykpO1xyXG59O1xyXG5cclxuXHJcbi8vVEhJUyBGVU5DVElPTiBXSUxMIERJU1BMQVkgVEhFIExJU1QgT0YgUExBQ0VTXHJcbi8vSVQgVEFLU0UgMyBBUkdVTUVOVFM6IGR1cmF0aW9uIC0gVFJBVkVMIFRJTUUgSU4gTUlOVVRFUywgcGxhY2UsIEFORCBtYXJrZXIgLSBUTyBMSU5LIExJU1QgV0lUSCBNQVJLRVIgT04gVEhFIE1BUFxyXG5NQVBTLmRpc3BsYXlMaXN0ID0gZnVuY3Rpb24oZHVyYXRpb24sIHBsYWNlLCBtYXJrZXIpe1xyXG5cclxuXHJcbiAgICAvL0NSRUFURSBESVYgVEhBVCBXSUxMIEJFIENPTlRBSU5FUiBGT1IgRUFDSCBQTEFDRSBJVEVNIE9OIFRIRSBMSVNUXHJcbiAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXHJcbiAgICAgICAgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyksXHJcbiAgICAgICAgZGV0YWlscyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxyXG4gICAgICAgICBzcGFuID0gJyc7XHJcbiAgICBkaXYuY2xhc3NMaXN0LmFkZCgnbWFwLWxpc3RfX2l0ZW0nKTtcclxuICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdtYXAtbGlzdF9fYnV0dG9uJyk7XHJcbiAgICBkZXRhaWxzLmNsYXNzTGlzdC5hZGQoJ21hcC1saXN0X19kZXRhaWxzLWxpc3QnKTtcclxuICAgIGRldGFpbHMuY2xhc3NMaXN0LmFkZCgnbWFwLWxpc3RfX2RldGFpbHMtbGlzdC0taGlkZGVuJyk7XHJcblxyXG4gICAgYnRuLmlubmVySFRNTCA9ICdTRUUgTU9SRSBERVRBSUxTJztcclxuXHJcbiAgICAvL2lmIHBsYWNlIGhhcyBwaG90b3MgYWRkIGFuIGltYWdlIHdpdGggcGhvdG8gYW5kIGFwcGVuZCBpdCB0byBzcGFuIHZhcmlhYmxlLiBpZiBubyBpbWFnZSBmb3VuZCwgdXNlIGljb25cclxuICAgIGlmIChwbGFjZS5waG90b3MgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBzcGFuICs9ICc8aW1nIGNsYXNzPVwibWFwLWxpc3RfX2ltYWdlXCIgc3JjPVwiJysgcGxhY2UucGhvdG9zWzBdLmdldFVybCh7bWF4V2lkdGg6IDc1LCBtYXhIZWlnaHQ6IDc1fSkrJ1wiIGFsdD1cIlwiPic7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzcGFuICs9ICc8aW1nIGNsYXNzPVwibWFwLWxpc3RfX2ltYWdlXCIgc3JjPVwiJysgcGxhY2UuaWNvbisnXCIgYWx0PVwiXCI+JztcclxuICAgIH1cclxuXHJcbiAgICAvL0JFTE9XIENPTU1BTkRTIEFSRSBBRERJTkcgQ09OVEVOVCBUTyBFQUNIIExJU1QgSVRFTTogSEVBREVSLCBEVVJBVElPTiBJTkZPLCBERVRBSUxTIERJViBBTkQgVEhFIHNlZSBtb3JlIGRldGFpbHMgQlVUVE9OXHJcbiAgICBzcGFuICs9XHJcbiAgICAgICAgJzxoMyBjbGFzcz1cIm1hcC1saXN0X19uYW1lXCI+JytcclxuICAgICAgICAgICAgcGxhY2UubmFtZSArXHJcbiAgICAgICAgJzwvaDM+JytcclxuICAgICAgICAnPHNwYW4gY2xhc3M9XCJtYXAtbGlzdF9fZHVyYXRpb25cIj4nK1xyXG4gICAgICAgICAgICAnRGlzdGFuY2UgYnkgd2Fsa2luZzogJyArXHJcbiAgICAgICAgICAgICc8Yj4nICtkdXJhdGlvbisgJzwvYj4nICtcclxuICAgICAgICAnPC9zcGFuPic7XHJcblxyXG4gICAgZGl2LmlubmVySFRNTCA9IHNwYW47XHJcbiAgICBkaXYuYXBwZW5kQ2hpbGQoZGV0YWlscyk7XHJcbiAgICBkaXYuYXBwZW5kQ2hpbGQoYnRuKTtcclxuICAgIHRoaXMucGxhY2VzTGlzdC5hcHBlbmRDaGlsZChkaXYpO1xyXG5cclxuXHJcbiAgICAvL0FERCBFVkVOVCBMSVNURU5FUlMgV0hFTiBJTlRFUkFDVElORyBXSVRIIFRIRSBMSVNUXHJcbiAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJyxmdW5jdGlvbigpe1xyXG4gICAgICAgIG1hcmtlci5zZXRJY29uKCcnKTtcclxuICAgIH0sZmFsc2UpO1xyXG5cclxuICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJyxmdW5jdGlvbigpe1xyXG4gICAgICAgIG1hcmtlci5zZXRJY29uKCdodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9tYXBzL2RvY3VtZW50YXRpb24vamF2YXNjcmlwdC9pbWFnZXMvY2lyY2xlLnBuZycpO1xyXG4gICAgfSxmYWxzZSk7XHJcblxyXG5cclxuICAgIC8vQUZURVIgWU9VIENMSUNLIE9OIEEgRElWLCBPUEVOIElORk8gV0lORE9XIE9OIFRIRSBNQVJLRVJcclxuICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsZnVuY3Rpb24oKXtcclxuICAgICAgICB0aGlzLnNlcnZpY2UuZ2V0RGV0YWlscyhwbGFjZSwgZnVuY3Rpb24ocmVzdWx0LCBzdGF0dXMpe1xyXG4gICAgICAgICAgICBpZiAoc3RhdHVzICE9PSBnb29nbGUubWFwcy5wbGFjZXMuUGxhY2VzU2VydmljZVN0YXR1cy5PSykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihzdGF0dXMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuaW5mb1dpbmRvdy5zZXRDb250ZW50KFxyXG4gICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwicGxhY2UtbmFtZVwiPjxiPicrcmVzdWx0Lm5hbWUrJzwvYj48L3NwYW4+JytcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5hZHJfYWRkcmVzcytcclxuICAgICAgICAgICAgICAgICc8YSBjbGFzcz1cInBsYWNlLWxpbmtcIiBocmVmPVwiJytyZXN1bHQudXJsKydcIiB0YXJnZXQ9XCJfYmxhbmtcIj5PcGVuIGluIE1hcHMnK1xyXG4gICAgICAgICAgICAgICAgJzwvYT4nXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5mb1dpbmRvdy5vcGVuKHRoaXMubWFwLCBtYXJrZXIpO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICB9LmJpbmQodGhpcyksZmFsc2UpO1xyXG5cclxuXHJcbiAgICAvL0VWRU5UIExJU1RFTkVSIEZPUiAnU0VFIE1PUkUgREVUQUlMUycgQlVUVE9OIE9OIFBMQUNFUyBMSVNUXHJcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgIC8vc3RvcCBwcm9wYWdhdGlvbiAoZG9uJ3QgZGlzcGxheSB0aGUgaW5mbyB3aW5kb3cgaW4gbWFwIHRoYXQgaXMgZmlyZWQgd2hlbiBkaXYgY2xpY2tlZClcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIHRoaXMuc2VydmljZS5nZXREZXRhaWxzKHBsYWNlLCBmdW5jdGlvbihyZXN1bHQsIHN0YXR1cyl7XHJcbiAgICAgICAgICAgIGlmIChzdGF0dXMgIT09IGdvb2dsZS5tYXBzLnBsYWNlcy5QbGFjZXNTZXJ2aWNlU3RhdHVzLk9LKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHN0YXR1cyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vT04gQ0xJQ0sgVE9HR0xFIFRIRSBWSVNJQklMSVRZIE9GIFRIRSBESVZcclxuICAgICAgICAgICAgZGV0YWlscy5jbGFzc0xpc3QudG9nZ2xlKCdtYXAtbGlzdF9fZGV0YWlscy1saXN0LS1oaWRkZW4nKTtcclxuICAgICAgICAgICAgZGV0YWlscy5jbGFzc0xpc3QudG9nZ2xlKCdtYXAtbGlzdF9fZGV0YWlscy1saXN0LS12aXNpYmxlJyk7XHJcblxyXG4gICAgICAgICAgICAvL0JFTE9XIFZBUklBQkxFIFdJTEwgQkUgSU5TRVJURUQgSU5UTyBkZXRhaWxzIERJVlxyXG4gICAgICAgICAgICB2YXIgcmVzdWx0c0RhdGEgPSAnJztcclxuXHJcbiAgICAgICAgICAgIC8vSUYgUExBQ0UgSEFTIHJlc3VsdC51cmwgQUREIElUIFRPIFJFU1VMVCBEQVRBIENPTlRFTlRcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQudXJsICE9PXVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0c0RhdGEgKz1cclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxhIGNsYXNzPVwiZGV0YWlscy1saXN0X19saW5rXCIgaHJlZj1cIicrcmVzdWx0LnVybCsnXCIgdGl0bGU9XCJMaW5rIHRvIHBsYWNlIGluIGdvb2dsZSBtYXBzIGFwcFwiIHRhcmdldD1cIl9ibGFua1wiPicrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJkZXRhaWxzLWxpc3RfX2ljb24gZmEgZmEtZ29vZ2xlXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+JytcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L3NwYW4+JytcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcz1cImRldGFpbHMtbGlzdF9fZGVzY3JpcHRpb25cIj4nK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdPcGVuIGluIE1hcHMnK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvc3Bhbj4nK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPC9hPic7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy9JRiBQTEFDRSBIQVMgcmVzdWx0LndlYnNpdGUgQUREIElUIFRPIFJFU1VMVCBEQVRBIENPTlRFTlRcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQud2Vic2l0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0c0RhdGEgKz1cclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxhIGNsYXNzPVwiZGV0YWlscy1saXN0X19saW5rXCIgaHJlZj1cIicrcmVzdWx0LndlYnNpdGUrJ1wiIHRpdGxlPVwiTGluayB0byB3ZWJpc3RlIG9mIHRoZSBwbGFjZVwiIHRhcmdldD1cIl9ibGFua1wiPicrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJkZXRhaWxzLWxpc3RfX2ljb24gZmEgZmEtZ2xvYmVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj4nK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvc3Bhbj4nK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwiZGV0YWlscy1saXN0X19kZXNjcmlwdGlvblwiPicrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dlYnNpdGUnK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvc3Bhbj4nK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPC9hPic7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy9JRiBQTEFDRSBIQVMgcmVzdWx0LnJhdGluZyBBREQgSVQgVE8gUkVTVUxUIERBVEEgQ09OVEVOVFxyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5yYXRpbmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHNEYXRhICs9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImRldGFpbHMtbGlzdF9faXRlbVwiPicrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwiZGV0YWlscy1saXN0X19pY29uIGZhIGZhLXN0YXJcIiBhcmlhLWhpZGRlbj1cInRydWVcIj4nK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L3NwYW4+JytcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJkZXRhaWxzLWxpc3RfX2Rlc2NyaXB0aW9uXCI+JytcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJhdGluZytcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9zcGFuPicrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vSU5TRVJUIFRIRSBDT05URU5UIElOVE8gVEhFIERJViBBTkQgRk9DVVMgRklSU1QgRUxFTUVOVCBJTlNJREVcclxuICAgICAgICAgICAgZGV0YWlscy5pbm5lckhUTUw9IHJlc3VsdHNEYXRhO1xyXG4gICAgICAgICAgICBkZXRhaWxzLmZpcnN0Q2hpbGQuZm9jdXMoKTtcclxuICAgICAgICB9KTtcclxuICAgIH0uYmluZCh0aGlzKSxmYWxzZSk7XHJcbn07XHJcbiIsIk5BVklHQVRJT04gPSB7XHJcbiAgICBjaGVja2JveDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnUtY2hlY2tib3gnKVxyXG59O1xyXG5cclxuLy9pZiB1c2VyIGxlZnQgbmF2aWdhdGlvbiBhbmQgcHJlc3NlZCB0YWIgKHdpdGhvdXQgc2hpZnQpIGNsb3NlIG5hdlxyXG5OQVZJR0FUSU9OLmhpZGVGb2N1cyA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSA5ICYmICFlLnNoaWZ0S2V5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tib3guY2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxufTtcclxuXHJcbi8vaWYgeW91c2VyIGNsaWNrZWQgb24gYSBsaW5rLCBoaWRlIG5hdmlnYXRpb25cclxuTkFWSUdBVElPTi5oaWRlQ2xpY2sgPSBmdW5jdGlvbihlKSB7XHJcbiAgICB2YXIgc291cmNlID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xyXG4gICAgICAgIGlmIChzb3VyY2UuaHJlZikge1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbn07XHJcblxyXG4vL2Nsb3NlIG5hdmlnYXRpb24gaWYgY2xpY2tlZCBvdXRzaWRlIG1lbnVcclxuTkFWSUdBVElPTi5oaWRlQ2xpY2tPdXQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICB2YXIgc291cmNlID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xyXG4gICAgaWYgKHRoaXMuY2hlY2tib3guY2hlY2tlZCkge1xyXG4gICAgICAgIGlmIChzb3VyY2UuY2xhc3NOYW1lICE9PSAnbWVudV9fbGFiZWwnICYmIHNvdXJjZS5jbGFzc05hbWUgIT09ICdtZW51X19jaGVja2JveCcgKSB7XHJcbiAgICAgICAgICAgIGlmIChzb3VyY2UuY2xhc3NOYW1lICE9PSAnbWVudS1saXN0Jykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja2JveC5jaGVja2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9pZiAodGhpcy5jaGVja2JveC5jaGVja2VkICYmKVxyXG59O1xyXG4iLCJ2YXIgV0VBVEhFUkFQSSA9IHtcclxuXHJcbn07XHJcblxyXG5XRUFUSEVSQVBJLmluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHJcbiAgICB4aHIub3BlbignR0VUJywgJ2h0dHA6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L3dlYXRoZXI/cT1Mb25kb24mYXBwaWQ9YTQ3MmViZDY0MmRhM2U2NGUzNWRhMzI4YWFmMzUzMWMmdW5pdHM9bWV0cmljJyx0cnVlKTtcclxuXHJcbiAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSAhPT0gNCApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoeGhyLnN0YXR1cyAhPT0gMjAwICl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1N0YXR1cyBlcnJvcjogJyArIHhoci5zdGF0dXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHJlc3VsdHMgPSB7fSxcclxuICAgICAgICAgICAgY29udGFpbmVyRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dlYXRoZXInKSxcclxuICAgICAgICAgICAgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKSxcclxuICAgICAgICAgICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgICAgICAgICBpbWFnZS5jbGFzc0xpc3QuYWRkKCd3ZWF0aGVyX19pY29uJyk7XHJcbiAgICAgICAgICAgIGlmICghZGF0YS5zcmNFbGVtZW50KXtcclxuICAgICAgICAgICAgICAgIHJlc3VsdHMgPSBKU09OLnBhcnNlKGRhdGEudGFyZ2V0LnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdHMgPSBKU09OLnBhcnNlKGRhdGEuc3JjRWxlbWVudC5yZXNwb25zZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPVxyXG4gICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwid2VhdGhlcl9fdGV4dFwiPicrXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy53ZWF0aGVyWzBdLm1haW4gK1xyXG4gICAgICAgICAgICAgICAgJzwvc3Bhbj4nK1xyXG4gICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwid2VhdGhlcl9fdGV4dFwiPicrXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5tYWluLnRlbXAudG9GaXhlZCgxKSArICcgwrBDJytcclxuICAgICAgICAgICAgICAgICc8L3NwYW4+JztcclxuXHJcblxyXG4gICAgICAgICAgICBpbWFnZS5zcmMgPSAnaHR0cDovL29wZW53ZWF0aGVybWFwLm9yZy9pbWcvdy8nICsgcmVzdWx0cy53ZWF0aGVyWzBdLmljb24gKyAnLnBuZyc7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lckRpdi5hcHBlbmRDaGlsZChpbWFnZSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lckRpdi5hcHBlbmRDaGlsZChkaXYpO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgeGhyLnNlbmQoKTtcclxufTtcclxuXHJcbldFQVRIRVJBUEkuaW5pdCgpO1xyXG4iXX0=
