!function e(t,n,i){function s(o,r){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!r&&l)return l(o,!0);if(a)return a(o,!0);throw new Error("Cannot find module '"+o+"'")}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return s(n||e)},c,c.exports,e,t,n,i)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)s(i[o]);return s}({1:[function(e,t,n){(function(e){!function(e,i){"function"==typeof define&&define.amd?define([],function(){return i(e)}):"object"==typeof n?t.exports=i(e):e.SmoothScroll=i(e)}(void 0!==e?e:"undefined"!=typeof window?window:this,function(e){"use strict";var t="querySelector"in document&&"addEventListener"in e&&"requestAnimationFrame"in e&&"closest"in e.Element.prototype,n={ignore:"[data-scroll-ignore]",header:null,speed:500,offset:0,easing:"easeInOutCubic",customEasing:null,before:function(){},after:function(){}},i=function(){for(var e={},t=0,n=arguments.length;t<n;t++)!function(t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}(arguments[t]);return e},s=function(t){return parseInt(e.getComputedStyle(t).height,10)},a=function(e){"#"===e.charAt(0)&&(e=e.substr(1));for(var t,n=String(e),i=n.length,s=-1,a="",o=n.charCodeAt(0);++s<i;){if(0===(t=n.charCodeAt(s)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");a+=t>=1&&t<=31||127==t||0===s&&t>=48&&t<=57||1===s&&t>=48&&t<=57&&45===o?"\\"+t.toString(16)+" ":t>=128||45===t||95===t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122?n.charAt(s):"\\"+n.charAt(s)}return"#"+a},o=function(e,t){var n;return"easeInQuad"===e.easing&&(n=t*t),"easeOutQuad"===e.easing&&(n=t*(2-t)),"easeInOutQuad"===e.easing&&(n=t<.5?2*t*t:(4-2*t)*t-1),"easeInCubic"===e.easing&&(n=t*t*t),"easeOutCubic"===e.easing&&(n=--t*t*t+1),"easeInOutCubic"===e.easing&&(n=t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1),"easeInQuart"===e.easing&&(n=t*t*t*t),"easeOutQuart"===e.easing&&(n=1- --t*t*t*t),"easeInOutQuart"===e.easing&&(n=t<.5?8*t*t*t*t:1-8*--t*t*t*t),"easeInQuint"===e.easing&&(n=t*t*t*t*t),"easeOutQuint"===e.easing&&(n=1+--t*t*t*t*t),"easeInOutQuint"===e.easing&&(n=t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t),e.customEasing&&(n=e.customEasing(t)),n||t},r=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},l=function(e,t,n){var i=0;if(e.offsetParent)do{i+=e.offsetTop,e=e.offsetParent}while(e);return i=Math.max(i-t-n,0)},c=function(e){return e?s(e)+e.offsetTop:0},d=function(t,n,i){i||(t.focus(),document.activeElement.id!==t.id&&(t.setAttribute("tabindex","-1"),t.focus(),t.style.outline="none"),e.scrollTo(0,n))},u=function(t){return!!("matchMedia"in e&&e.matchMedia("(prefers-reduced-motion)").matches)};return function(s,m){var h,p,f,g,v,y,b,E={};E.cancelScroll=function(){cancelAnimationFrame(b)},E.animateScroll=function(t,s,a){var u=i(h||n,a||{}),m="[object Number]"===Object.prototype.toString.call(t),p=m||!t.tagName?null:t;if(m||p){var f=e.pageYOffset;u.header&&!g&&(g=document.querySelector(u.header)),v||(v=c(g));var y,b,I,L=m?t:l(p,v,parseInt("function"==typeof u.offset?u.offset():u.offset,10)),_=L-f,w=r(),k=0,S=function(n,i){var a=e.pageYOffset;if(n==i||a==i||(f<i&&e.innerHeight+a)>=w)return E.cancelScroll(),d(t,i,m),u.after(t,s),y=null,!0},A=function(t){y||(y=t),b=(k+=t-y)/parseInt(u.speed,10),I=f+_*o(u,b=b>1?1:b),e.scrollTo(0,Math.floor(I)),S(I,L)||(e.requestAnimationFrame(A),y=t)};0===e.pageYOffset&&e.scrollTo(0,0),u.before(t,s),E.cancelScroll(),e.requestAnimationFrame(A)}};var I=function(e){p&&(p.id=p.getAttribute("data-scroll-id"),E.animateScroll(p,f),p=null,f=null)},L=function(t){if(!u()&&0===t.button&&!t.metaKey&&!t.ctrlKey&&(f=t.target.closest(s))&&"a"===f.tagName.toLowerCase()&&!t.target.closest(h.ignore)&&f.hostname===e.location.hostname&&f.pathname===e.location.pathname&&/#/.test(f.href)){var n;try{n=a(decodeURIComponent(f.hash))}catch(e){n=a(f.hash)}if("#"===n){t.preventDefault();var i=(p=document.body).id?p.id:"smooth-scroll-top";return p.setAttribute("data-scroll-id",i),p.id="",void(e.location.hash.substring(1)===i?I():e.location.hash=i)}(p=document.querySelector(n))&&(p.setAttribute("data-scroll-id",p.id),p.id="",f.hash===e.location.hash&&(t.preventDefault(),I()))}},_=function(e){y||(y=setTimeout(function(){y=null,v=c(g)},66))};return E.destroy=function(){h&&(document.removeEventListener("click",L,!1),e.removeEventListener("resize",_,!1),E.cancelScroll(),h=null,p=null,f=null,g=null,v=null,y=null,b=null)},E.init=function(s){t&&(E.destroy(),h=i(n,s||{}),g=h.header?document.querySelector(h.header):null,v=c(g),document.addEventListener("click",L,!1),e.addEventListener("hashchange",I,!1),g&&e.addEventListener("resize",_,!1))},E.init(m),E}})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){window.onload=function(){s.init(),o.initialize({type:document.getElementById("input-type").value,sort:document.getElementById("input-sort").value})};var i={name:document.getElementById("personName"),email:document.getElementById("personEmail"),message:document.getElementById("personMessage"),submit:document.getElementById("form__submit-button"),button:document.getElementById("close-confirmation-button"),infoDiv:document.getElementById("form-submitted")};i.validate=function(e){e.preventDefault();var t={name:this.name.value,email:this.email.value,message:this.message.value};this.send(t)},i.showConfirmation=function(){this.name.value=null,this.email.value=null,this.message.value=null,this.infoDiv.classList.remove("form-submitted--hidden"),this.infoDiv.classList.add("form-submitted--visible"),this.button.addEventListener("blur",function(e){13!==e.keyCode&&this.button.focus()}.bind(this),!1),this.button.addEventListener("click",function(){this.infoDiv.classList.remove("form-submitted--visible"),this.infoDiv.classList.add("form-submitted--hidden")}.bind(this),!1),setTimeout(function(){this.button.focus()}.bind(this),300)},i.send=function(e){var t=JSON.stringify(e),n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&200===n.status?this.showConfirmation():4===n.readyState&&200!==n.status&&alert("Ooops, there was and error: "+n.responseText+"\nPlease try again, or email us manually at herbrandapartment@gmail.com\nThank you.")}.bind(this),n.open("POST","/"),n.setRequestHeader("Content-type","application/json;charset=UTF-8"),n.send(t)};var s={setInputType:function(e){this.type=e},getInputType:function(){return this.type},setInputSort:function(e){this.sort=e},getInputSort:function(){return this.sort}};s.init=function(){var e=document.getElementById("input-type"),t=document.getElementById("input-sort"),n=document.querySelectorAll(".gallery__link"),s=document.querySelector(".menu-list"),o=s.children[s.children.length-1],r=document.getElementById("contact-form");arr=Array.prototype.slice.call(n),this.setInputType(e.value),this.setInputSort(t.value),e.addEventListener("change",this.clickListener.bind(this),!1),t.addEventListener("change",this.clickListener.bind(this),!1),arr.map(function(e){e.addEventListener("click",a.init.bind(a),!1)}),o.addEventListener("keydown",NAVIGATION.hideFocus.bind(NAVIGATION),!1),s.addEventListener("click",NAVIGATION.hideClick.bind(NAVIGATION),!1),document.body.addEventListener("click",NAVIGATION.hideClickOut.bind(NAVIGATION),!1),r.addEventListener("submit",i.validate.bind(i),!1)},s.clickListener=function(e){var t=e.src||e.target,n=t.value,i={};"input-type"===t.id&&this.setInputType(n),"input-sort"===t.id&&this.setInputSort(n),i={type:this.getInputType(),sort:this.getInputSort()},o.initialize(i)};var a={collection:document.querySelectorAll(".gallery__item"),div:document.getElementById("full-screen-gallery"),closeBtn:document.createElement("button"),checkIfFiredAlready:!1,windowWidth:window.innerWidth};a.init=function(e){e.preventDefault();var t={},n={};content="",e.srcElement?(t="IMG"!==e.srcElement.nodeName?e.srcElement.firstChild:e.srcElement,n="IMG"!==e.srcElement.nodeName?e.srcElement:e.srcElement.parentElement):(t="IMG"!==e.target.nodeName?e.target.firstChild:e.target,n="IMG"!==e.target.nodeName?e.target:e.target.parentElement),arr=Array.prototype.slice.call(this.collection),this.div.classList.add("full-screen-gallery--visible"),this.closeBtn.classList.add("full-screen-gallery__button"),this.closeBtn.setAttribute("aria-label","Press enter to close gallery, use buttons to scroll gallery"),arr.map(function(e,n){var i=n+1;e.src===t.src?content+='<img class="full-screen-gallery__image" id="image-active" src="./images/'+i+'.jpg" alt="">':content+='<img class="full-screen-gallery__image" src="./images/'+i+'.jpg" alt="">'}.bind(this)),this.closeBtn.addEventListener("click",function(e){this.div.classList.add("full-screen-gallery--hidden"),this.div.classList.remove("full-screen-gallery--visible"),n.focus()}.bind(this),!1),this.closeBtn.addEventListener("keydown",function(e){13!==e.keyCode&&this.div.focus()}.bind(this),!1),this.div.addEventListener("click",function(e){e.srcElement?e.srcElement.src||(this.div.classList.add("full-screen-gallery--hidden"),this.div.classList.remove("full-screen-gallery--visible"),n.focus()):e.target.src||(this.div.classList.add("full-screen-gallery--hidden"),this.div.classList.remove("full-screen-gallery--visible"),n.focus())}.bind(this),!1),this.div.innerHTML=content,this.div.appendChild(this.closeBtn),document.body.appendChild(this.div),this.div.focus();var i=document.getElementById("image-active").offsetTop;this.div.scrollTop=i,this.closeBtn.innerHTML='<span class="fa fa-times"></span>',this.windowWidth>1e3&&(!1===this.checkIfFiredAlready&&alert("TO VIEW GALLERY SCROLL UP OR DOWN\n\nOR USE ARROW KEYS"),this.checkIfFiredAlready=!0)};var o={map:{},service:{},infoWindow:{},distance:{},cords:{lat:51.524813,lng:-.125688},placesList:document.getElementById("map-list")};o.initialize=function(e){this.placesList.innerHTML="";var t={location:this.cords,type:[e.type],rankBy:"rank"===e.sort?google.maps.places.RankBy.PROMINENCE:google.maps.places.RankBy.DISTANCE,radius:"rank"===e.sort?"1000":null};this.map=new google.maps.Map(document.getElementById("map-display"),{center:this.cords,zoom:15,cords:this.cords,disableDefaultUI:!0,gestureHandling:"cooperative"});var n=new google.maps.Marker({map:this.map,position:this.cords});this.infoWindow=new google.maps.InfoWindow,this.service=new google.maps.places.PlacesService(this.map),this.distance=new google.maps.DistanceMatrixService,this.infoWindow.setContent("<span>Herbrand Street<br>Bloomsbury<br>London<br>WC1N</span>"),this.infoWindow.open(this.map,n),this.service.nearbySearch(t,this.callback)},o.callback=function(e,t){if(t==google.maps.places.PlacesServiceStatus.OK)for(var n=0;n<e.length;n++)o.createMarker(e[n])},o.createMarker=function(e){var t=new google.maps.Marker({map:this.map,position:e.geometry.location,icon:{url:"https://developers.google.com/maps/documentation/javascript/images/circle.png"}});google.maps.event.addListener(t,"click",function(){this.service.getDetails(e,function(e,n){n===google.maps.places.PlacesServiceStatus.OK?(this.infoWindow.setContent("<h2>"+e.name+"</h2>"+e.adr_address),this.infoWindow.open(this.map,t)):console.error(n)}.bind(this))}.bind(this)),o.calculateDistance(e,t)},o.calculateDistance=function(e,t){point=function(){return{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}},this.distance.getDistanceMatrix({origins:[this.cords],destinations:[point()],travelMode:"WALKING"},function(n,i){var s=n.rows[0].elements[0].duration.text;this.displayList(s,e,t)}.bind(this))},o.displayList=function(e,t,n){var i=document.createElement("div"),s=document.createElement("button"),a=document.createElement("div"),o="";i.classList.add("map-list__item"),s.classList.add("map-list__button"),a.classList.add("map-list__details-list"),a.classList.add("map-list__details-list--hidden"),s.innerHTML="SEE MORE DETAILS",void 0!==t.photos?o+='<img class="map-list__image" src="'+t.photos[0].getUrl({maxWidth:75,maxHeight:75})+'" alt="">':o+='<img class="map-list__image" src="'+t.icon+'" alt="">',o+='<h3 class="map-list__name">'+t.name+'</h3><span class="map-list__duration">Distance by walking: <b>'+e+"</b></span>",i.innerHTML=o,i.appendChild(a),i.appendChild(s),this.placesList.appendChild(i),i.addEventListener("mouseover",function(){n.setIcon("")},!1),i.addEventListener("mouseleave",function(){n.setIcon("https://developers.google.com/maps/documentation/javascript/images/circle.png")},!1),i.addEventListener("click",function(){this.service.getDetails(t,function(e,t){t===google.maps.places.PlacesServiceStatus.OK?(this.infoWindow.setContent('<span class="place-name"><b>'+e.name+"</b></span>"+e.adr_address+'<a class="place-link" href="'+e.url+'" target="_blank">Open in Maps</a>'),this.infoWindow.open(this.map,n)):console.error(t)}.bind(this))}.bind(this),!1),s.addEventListener("click",function(e){e.stopPropagation(),this.service.getDetails(t,function(e,t){if(t===google.maps.places.PlacesServiceStatus.OK){a.classList.toggle("map-list__details-list--hidden"),a.classList.toggle("map-list__details-list--visible");var n="";void 0!==e.url&&(n+='<a class="details-list__link" href="'+e.url+'" title="Link to place in google maps app" target="_blank"><span class="details-list__icon fa fa-google" aria-hidden="true"></span><span class="details-list__description">Open in Maps</span></a>'),void 0!==e.website&&(n+='<a class="details-list__link" href="'+e.website+'" title="Link to webiste of the place" target="_blank"><span class="details-list__icon fa fa-globe" aria-hidden="true"></span><span class="details-list__description">Website</span></a>'),void 0!==e.rating&&(n+='<div class="details-list__item"><span class="details-list__icon fa fa-star" aria-hidden="true"></span><span class="details-list__description">'+e.rating+"</span></div>"),a.innerHTML=n,a.firstChild.focus()}else console.error(t)})}.bind(this),!1)},NAVIGATION={checkbox:document.getElementById("menu-checkbox")},NAVIGATION.hideFocus=function(e){9!==e.keyCode||e.shiftKey||(this.checkbox.checked=!1)},NAVIGATION.hideClick=function(e){(e.target||e.srcElement).href&&(this.checkbox.checked=!1)},NAVIGATION.hideClickOut=function(e){var t=e.target||e.srcElement;this.checkbox.checked&&"menu__label"!==t.className&&"menu__checkbox"!==t.className&&"menu-list"!==t.className&&(this.checkbox.checked=!1)},new(e("smooth-scroll"))('a[href*="#"]',{easing:"easeInOutQuad"});var r={};r.init=function(){var e=new XMLHttpRequest;e.open("GET","http://api.openweathermap.org/data/2.5/weather?q=London&appid=a472ebd642da3e64e35da328aaf3531c&units=metric",!0),e.onreadystatechange=function(t){if(4!==e.readyState)return!1;200!==e.status&&console.err("Status error: "+e.status);var n={},i=document.getElementById("weather"),s=document.createElement("img"),a=document.createElement("div");s.classList.add("weather__icon"),n=t.srcElement?JSON.parse(t.srcElement.response):JSON.parse(t.target.response),a.innerHTML='<span class="weather__text">'+n.weather[0].main+'</span><span class="weather__text">'+n.main.temp.toFixed(1)+" °C</span>",s.src="http://openweathermap.org/img/w/"+n.weather[0].icon+".png",i.appendChild(s),i.appendChild(a)},e.send()},r.init()},{"smooth-scroll":1}]},{},[2]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRhY3QuanMiLCJkb21oYW5kbGVyLmpzIiwiZ2FsbGVyeS5qcyIsIm1hcHMuanMiLCJuYXZpZ2F0aW9uLmpzIiwid2VhdGhlcmFwcC5qcyJdLCJuYW1lcyI6WyJlIiwidCIsIm4iLCJyIiwicyIsIm8iLCJ1IiwiYSIsInJlcXVpcmUiLCJpIiwiRXJyb3IiLCJmIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCIxIiwibW9kdWxlIiwiZ2xvYmFsIiwiZGVmaW5lIiwiYW1kIiwiU21vb3RoU2Nyb2xsIiwid2luZG93IiwidGhpcyIsImRvY3VtZW50IiwiRWxlbWVudCIsInByb3RvdHlwZSIsImlnbm9yZSIsImhlYWRlciIsInNwZWVkIiwib2Zmc2V0IiwiZWFzaW5nIiwiY3VzdG9tRWFzaW5nIiwiYmVmb3JlIiwiYWZ0ZXIiLCJhcmd1bWVudHMiLCJoYXNPd25Qcm9wZXJ0eSIsInBhcnNlSW50IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImhlaWdodCIsImNoYXJBdCIsInN1YnN0ciIsIlN0cmluZyIsImNoYXJDb2RlQXQiLCJJbnZhbGlkQ2hhcmFjdGVyRXJyb3IiLCJ0b1N0cmluZyIsIk1hdGgiLCJtYXgiLCJib2R5Iiwic2Nyb2xsSGVpZ2h0IiwiZG9jdW1lbnRFbGVtZW50Iiwib2Zmc2V0SGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiYyIsIm9mZnNldFBhcmVudCIsIm9mZnNldFRvcCIsImwiLCJmb2N1cyIsImFjdGl2ZUVsZW1lbnQiLCJpZCIsInNldEF0dHJpYnV0ZSIsInN0eWxlIiwib3V0bGluZSIsInNjcm9sbFRvIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJkIiwibSIsImgiLCJnIiwicCIsInYiLCJiIiwieSIsIlMiLCJjYW5jZWxTY3JvbGwiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImFuaW1hdGVTY3JvbGwiLCJPYmplY3QiLCJ0YWdOYW1lIiwicGFnZVlPZmZzZXQiLCJxdWVyeVNlbGVjdG9yIiwiRSIsIkkiLCJPIiwiQSIsIkMiLCJ3IiwiaW5uZXJIZWlnaHQiLCJRIiwiZmxvb3IiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJnZXRBdHRyaWJ1dGUiLCJidXR0b24iLCJtZXRhS2V5IiwiY3RybEtleSIsInRhcmdldCIsImNsb3Nlc3QiLCJ0b0xvd2VyQ2FzZSIsImhvc3RuYW1lIiwibG9jYXRpb24iLCJwYXRobmFtZSIsInRlc3QiLCJocmVmIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiaGFzaCIsInByZXZlbnREZWZhdWx0Iiwic3Vic3RyaW5nIiwic2V0VGltZW91dCIsImRlc3Ryb3kiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaW5pdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZWxmIiwiMiIsIm9ubG9hZCIsIkRPTUhBTkRMRVIiLCJNQVBTIiwiaW5pdGlhbGl6ZSIsInR5cGUiLCJnZXRFbGVtZW50QnlJZCIsInZhbHVlIiwic29ydCIsIkNPTlRBQ1QiLCJuYW1lIiwiZW1haWwiLCJtZXNzYWdlIiwic3VibWl0IiwiaW5mb0RpdiIsInZhbGlkYXRlIiwiY29uZmlnIiwic2VuZCIsInNob3dDb25maXJtYXRpb24iLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGQiLCJrZXlDb2RlIiwiYmluZCIsImRhdGEiLCJKU09OIiwic3RyaW5naWZ5IiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwiYWxlcnQiLCJyZXNwb25zZVRleHQiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsInNldElucHV0VHlwZSIsImdldElucHV0VHlwZSIsInNldElucHV0U29ydCIsImdldElucHV0U29ydCIsImlucHV0VHlwZSIsImlucHV0U29ydCIsImdhbGxlcnkiLCJxdWVyeVNlbGVjdG9yQWxsIiwibWVudUxpc3QiLCJsYXN0TGlzdEl0ZW0iLCJjaGlsZHJlbiIsImNvbnRhY3RGcm9ybSIsImFyciIsIkFycmF5Iiwic2xpY2UiLCJjbGlja0xpc3RlbmVyIiwibWFwIiwiaXRlbSIsIkdBTExFUlkiLCJOQVZJR0FUSU9OIiwiaGlkZUZvY3VzIiwiaGlkZUNsaWNrIiwiaGlkZUNsaWNrT3V0Iiwic3JjIiwiY29sbGVjdGlvbiIsImRpdiIsImNsb3NlQnRuIiwiY3JlYXRlRWxlbWVudCIsImNoZWNrSWZGaXJlZEFscmVhZHkiLCJ3aW5kb3dXaWR0aCIsImlubmVyV2lkdGgiLCJldmVudFNvdXJjZSIsImxpbmtFbGVtZW50IiwiY29udGVudCIsInNyY0VsZW1lbnQiLCJub2RlTmFtZSIsImZpcnN0Q2hpbGQiLCJwYXJlbnRFbGVtZW50IiwiaW5kZXgiLCJpbm5lckhUTUwiLCJhcHBlbmRDaGlsZCIsIm9UIiwic2Nyb2xsVG9wIiwic2VydmljZSIsImluZm9XaW5kb3ciLCJkaXN0YW5jZSIsImNvcmRzIiwibGF0IiwibG5nIiwicGxhY2VzTGlzdCIsInJlcXVlc3QiLCJyYW5rQnkiLCJnb29nbGUiLCJtYXBzIiwicGxhY2VzIiwiUmFua0J5IiwiUFJPTUlORU5DRSIsIkRJU1RBTkNFIiwicmFkaXVzIiwiTWFwIiwiY2VudGVyIiwiem9vbSIsImRpc2FibGVEZWZhdWx0VUkiLCJnZXN0dXJlSGFuZGxpbmciLCJtYXJrZXIiLCJNYXJrZXIiLCJwb3NpdGlvbiIsIkluZm9XaW5kb3ciLCJQbGFjZXNTZXJ2aWNlIiwiRGlzdGFuY2VNYXRyaXhTZXJ2aWNlIiwic2V0Q29udGVudCIsIm5lYXJieVNlYXJjaCIsImNhbGxiYWNrIiwicmVzdWx0cyIsIlBsYWNlc1NlcnZpY2VTdGF0dXMiLCJPSyIsImNyZWF0ZU1hcmtlciIsInBsYWNlIiwiZ2VvbWV0cnkiLCJpY29uIiwidXJsIiwiZXZlbnQiLCJhZGRMaXN0ZW5lciIsImdldERldGFpbHMiLCJyZXN1bHQiLCJhZHJfYWRkcmVzcyIsImNvbnNvbGUiLCJlcnJvciIsImNhbGN1bGF0ZURpc3RhbmNlIiwicG9pbnQiLCJnZXREaXN0YW5jZU1hdHJpeCIsIm9yaWdpbnMiLCJkZXN0aW5hdGlvbnMiLCJ0cmF2ZWxNb2RlIiwicmVzcG9uc2UiLCJkdXJhdGlvbiIsInJvd3MiLCJlbGVtZW50cyIsInRleHQiLCJkaXNwbGF5TGlzdCIsImJ0biIsImRldGFpbHMiLCJzcGFuIiwidW5kZWZpbmVkIiwicGhvdG9zIiwiZ2V0VXJsIiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJzZXRJY29uIiwic3RvcFByb3BhZ2F0aW9uIiwidG9nZ2xlIiwicmVzdWx0c0RhdGEiLCJ3ZWJzaXRlIiwicmF0aW5nIiwiY2hlY2tib3giLCJzaGlmdEtleSIsImNoZWNrZWQiLCJzb3VyY2UiLCJjbGFzc05hbWUiLCJXRUFUSEVSQVBJIiwiZXJyIiwiY29udGFpbmVyRGl2IiwiaW1hZ2UiLCJwYXJzZSIsIndlYXRoZXIiLCJtYWluIiwidGVtcCIsInRvRml4ZWQiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEVBQUFDLEVBQUFDLEdBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FBQSxJQUFBSixFQUFBRyxHQUFBLENBQUEsSUFBQUosRUFBQUksR0FBQSxDQUFBLElBQUFFLEVBQUEsbUJBQUFDLFNBQUFBLFFBQUEsSUFBQUYsR0FBQUMsRUFBQSxPQUFBQSxFQUFBRixHQUFBLEdBQUEsR0FBQUksRUFBQSxPQUFBQSxFQUFBSixHQUFBLEdBQUEsTUFBQSxJQUFBSyxNQUFBLHVCQUFBTCxFQUFBLEtBQUEsSUFBQU0sRUFBQVQsRUFBQUcsSUFBQU8sWUFBQVgsRUFBQUksR0FBQSxHQUFBUSxLQUFBRixFQUFBQyxRQUFBLFNBQUFaLEdBQUEsSUFBQUUsRUFBQUQsRUFBQUksR0FBQSxHQUFBTCxHQUFBLE9BQUFJLEVBQUFGLEdBQUFGLElBQUFXLEVBQUFBLEVBQUFDLFFBQUFaLEVBQUFDLEVBQUFDLEVBQUFDLEdBQUEsT0FBQUQsRUFBQUcsR0FBQU8sUUFBQSxJQUFBLElBQUFILEVBQUEsbUJBQUFELFNBQUFBLFFBQUFILEVBQUEsRUFBQUEsRUFBQUYsRUFBQVcsT0FBQVQsSUFBQUQsRUFBQUQsRUFBQUUsSUFBQSxPQUFBRCxFQUFBLEVBQUFXLEdBQUEsU0FBQVAsRUFBQVEsRUFBQUosSUFDQSxTQUFBSyxJQUVBLFNBQUFqQixFQUFBQyxHQUFBLG1CQUFBaUIsUUFBQUEsT0FBQUMsSUFBQUQsVUFBQSxXQUFBLE9BQUFqQixFQUFBRCxLQUFBLGlCQUFBWSxFQUFBSSxFQUFBSixRQUFBWCxFQUFBRCxHQUFBQSxFQUFBb0IsYUFBQW5CLEVBQUFELEdBQUEsTUFBQSxJQUFBaUIsRUFBQUEsRUFBQSxvQkFBQUksT0FBQUEsT0FBQUMsS0FBQSxTQUFBdEIsR0FBQSxhQUFBLElBQUFDLEVBQUEsa0JBQUFzQixVQUFBLHFCQUFBdkIsR0FBQSwwQkFBQUEsR0FBQSxZQUFBQSxFQUFBd0IsUUFBQUMsVUFBQXZCLEdBQUF3QixPQUFBLHVCQUFBQyxPQUFBLEtBQUFDLE1BQUEsSUFBQUMsT0FBQSxFQUFBQyxPQUFBLGlCQUFBQyxhQUFBLEtBQUFDLE9BQUEsYUFBQUMsTUFBQSxjQUFBNUIsRUFBQSxXQUFBLElBQUEsSUFBQUwsS0FBQUMsRUFBQSxFQUFBQyxFQUFBZ0MsVUFBQXBCLE9BQUFiLEVBQUFDLEVBQUFELEtBQUEsU0FBQUEsR0FBQSxJQUFBLElBQUFDLEtBQUFELEVBQUFBLEVBQUFrQyxlQUFBakMsS0FBQUYsRUFBQUUsR0FBQUQsRUFBQUMsSUFBQSxDQUFBZ0MsVUFBQWpDLElBQUEsT0FBQUQsR0FBQU8sRUFBQSxTQUFBTixHQUFBLE9BQUFtQyxTQUFBcEMsRUFBQXFDLGlCQUFBcEMsR0FBQXFDLE9BQUEsS0FBQW5DLEVBQUEsU0FBQUgsR0FBQSxNQUFBQSxFQUFBdUMsT0FBQSxLQUFBdkMsRUFBQUEsRUFBQXdDLE9BQUEsSUFBQSxJQUFBLElBQUF2QyxFQUFBQyxFQUFBdUMsT0FBQXpDLEdBQUFLLEVBQUFILEVBQUFZLE9BQUFQLEdBQUEsRUFBQUosRUFBQSxHQUFBTSxFQUFBUCxFQUFBd0MsV0FBQSxLQUFBbkMsRUFBQUYsR0FBQSxDQUFBLEdBQUEsS0FBQUosRUFBQUMsRUFBQXdDLFdBQUFuQyxJQUFBLE1BQUEsSUFBQW9DLHNCQUFBLGlEQUFBeEMsR0FBQUYsR0FBQSxHQUFBQSxHQUFBLElBQUEsS0FBQUEsR0FBQSxJQUFBTSxHQUFBTixHQUFBLElBQUFBLEdBQUEsSUFBQSxJQUFBTSxHQUFBTixHQUFBLElBQUFBLEdBQUEsSUFBQSxLQUFBUSxFQUFBLEtBQUFSLEVBQUEyQyxTQUFBLElBQUEsSUFBQTNDLEdBQUEsS0FBQSxLQUFBQSxHQUFBLEtBQUFBLEdBQUFBLEdBQUEsSUFBQUEsR0FBQSxJQUFBQSxHQUFBLElBQUFBLEdBQUEsSUFBQUEsR0FBQSxJQUFBQSxHQUFBLElBQUFDLEVBQUFxQyxPQUFBaEMsR0FBQSxLQUFBTCxFQUFBcUMsT0FBQWhDLEdBQUEsTUFBQSxJQUFBSixHQUFBTSxFQUFBLFNBQUFULEVBQUFDLEdBQUEsSUFBQUMsRUFBQSxNQUFBLGVBQUFGLEVBQUE4QixTQUFBNUIsRUFBQUQsRUFBQUEsR0FBQSxnQkFBQUQsRUFBQThCLFNBQUE1QixFQUFBRCxHQUFBLEVBQUFBLElBQUEsa0JBQUFELEVBQUE4QixTQUFBNUIsRUFBQUQsRUFBQSxHQUFBLEVBQUFBLEVBQUFBLEdBQUEsRUFBQSxFQUFBQSxHQUFBQSxFQUFBLEdBQUEsZ0JBQUFELEVBQUE4QixTQUFBNUIsRUFBQUQsRUFBQUEsRUFBQUEsR0FBQSxpQkFBQUQsRUFBQThCLFNBQUE1QixJQUFBRCxFQUFBQSxFQUFBQSxFQUFBLEdBQUEsbUJBQUFELEVBQUE4QixTQUFBNUIsRUFBQUQsRUFBQSxHQUFBLEVBQUFBLEVBQUFBLEVBQUFBLEdBQUFBLEVBQUEsSUFBQSxFQUFBQSxFQUFBLElBQUEsRUFBQUEsRUFBQSxHQUFBLEdBQUEsZ0JBQUFELEVBQUE4QixTQUFBNUIsRUFBQUQsRUFBQUEsRUFBQUEsRUFBQUEsR0FBQSxpQkFBQUQsRUFBQThCLFNBQUE1QixFQUFBLEtBQUFELEVBQUFBLEVBQUFBLEVBQUFBLEdBQUEsbUJBQUFELEVBQUE4QixTQUFBNUIsRUFBQUQsRUFBQSxHQUFBLEVBQUFBLEVBQUFBLEVBQUFBLEVBQUFBLEVBQUEsRUFBQSxJQUFBQSxFQUFBQSxFQUFBQSxFQUFBQSxHQUFBLGdCQUFBRCxF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eUosY0FBQSxPQUVBK0YsRUFBQTNJLFVBQUFFLElBQUEsaUJBSUF3RixFQUhBckYsRUFBQThDLFdBR0E3QyxLQUFBc0ksTUFBQXZJLEVBQUE4QyxXQUFBNEQsVUFGQXpHLEtBQUFzSSxNQUFBdkksRUFBQTFDLE9BQUFvSixVQUtBckUsRUFBQWMsVUFDQSwrQkFDQWtDLEVBQUFtRCxRQUFBLEdBQUFDLEtBQ0Esc0NBRUFwRCxFQUFBb0QsS0FBQUMsS0FBQUMsUUFBQSxHQUFBLGFBSUFMLEVBQUFuRyxJQUFBLG1DQUFBa0QsRUFBQW1ELFFBQUEsR0FBQTdDLEtBQUEsT0FDQTBDLEVBQUFqRixZQUFBa0YsR0FDQUQsRUFBQWpGLFlBQUFmIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cub25sb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICBET01IQU5ETEVSLmluaXQoKTtcclxuICAgIE1BUFMuaW5pdGlhbGl6ZSh7XHJcbiAgICAgICAgdHlwZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lucHV0LXR5cGUnKS52YWx1ZSxcclxuICAgICAgICBzb3J0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5wdXQtc29ydCcpLnZhbHVlXHJcbiAgICB9KTtcclxuXHJcbn07XHJcbiIsInZhciBDT05UQUNUID0ge1xyXG4gICAgbmFtZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BlcnNvbk5hbWUnKSxcclxuICAgIGVtYWlsOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVyc29uRW1haWwnKSxcclxuICAgIG1lc3NhZ2U6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZXJzb25NZXNzYWdlJyksXHJcbiAgICBzdWJtaXQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtX19zdWJtaXQtYnV0dG9uJyksXHJcbiAgICBidXR0b246IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZS1jb25maXJtYXRpb24tYnV0dG9uJyksXHJcbiAgICBpbmZvRGl2OiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm0tc3VibWl0dGVkJylcclxufTtcclxuXHJcbkNPTlRBQ1QudmFsaWRhdGUgPSBmdW5jdGlvbihlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB2YXIgY29uZmlnID0ge1xyXG4gICAgICAgIG5hbWU6IHRoaXMubmFtZS52YWx1ZSxcclxuICAgICAgICBlbWFpbDogdGhpcy5lbWFpbC52YWx1ZSxcclxuICAgICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UudmFsdWVcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zZW5kKGNvbmZpZyk7XHJcbn07XHJcblxyXG5cclxuQ09OVEFDVC5zaG93Q29uZmlybWF0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5uYW1lLnZhbHVlID0gbnVsbDtcclxuICAgIHRoaXMuZW1haWwudmFsdWUgPSBudWxsO1xyXG4gICAgdGhpcy5tZXNzYWdlLnZhbHVlID0gbnVsbDtcclxuXHJcbiAgICB0aGlzLmluZm9EaXYuY2xhc3NMaXN0LnJlbW92ZSgnZm9ybS1zdWJtaXR0ZWQtLWhpZGRlbicpO1xyXG4gICAgdGhpcy5pbmZvRGl2LmNsYXNzTGlzdC5hZGQoJ2Zvcm0tc3VibWl0dGVkLS12aXNpYmxlJyk7XHJcblxyXG4gICAgdGhpcy5idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgIGlmIChlLmtleUNvZGUgIT09IDEzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uLmZvY3VzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfS5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcblxyXG5cclxuICAgIHRoaXMuYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcclxuICAgICAgICB0aGlzLmluZm9EaXYuY2xhc3NMaXN0LnJlbW92ZSgnZm9ybS1zdWJtaXR0ZWQtLXZpc2libGUnKTtcclxuICAgICAgICB0aGlzLmluZm9EaXYuY2xhc3NMaXN0LmFkZCgnZm9ybS1zdWJtaXR0ZWQtLWhpZGRlbicpO1xyXG5cclxuXHJcbiAgICB9LmJpbmQodGhpcyksIGZhbHNlKTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdGhpcy5idXR0b24uZm9jdXMoKTtcclxuICAgIH0uYmluZCh0aGlzKSwgMzAwKTtcclxufTtcclxuXHJcbkNPTlRBQ1Quc2VuZCA9IGZ1bmN0aW9uKGNvbmZpZykge1xyXG5cclxuICAgIHZhciBkYXRhID0gSlNPTi5zdHJpbmdpZnkoY29uZmlnKTtcclxuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHJcbiAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYoeGhyLnJlYWR5U3RhdGUgPT09IDQgJiYgeGhyLnN0YXR1cyA9PT0gMjAwKVxyXG4gICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgdGhpcy5zaG93Q29uZmlybWF0aW9uKCk7XHJcbiAgICAgICAgICAgfSBlbHNlIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCAmJiB4aHIuc3RhdHVzICE9PSAyMDApe1xyXG4gICAgICAgICAgICAgICBhbGVydCgnT29vcHMsIHRoZXJlIHdhcyBhbmQgZXJyb3I6ICcgKyB4aHIucmVzcG9uc2VUZXh0ICsnXFxuUGxlYXNlIHRyeSBhZ2Fpbiwgb3IgZW1haWwgdXMgbWFudWFsbHkgYXQgaGVyYnJhbmRhcGFydG1lbnRAZ21haWwuY29tXFxuVGhhbmsgeW91LicpO1xyXG4gICAgICAgICAgIH1cclxuICAgIH0uYmluZCh0aGlzKTtcclxuXHJcbiAgICB4aHIub3BlbignUE9TVCcsICcvJyk7XHJcbiAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOFwiKTtcclxuICAgIHhoci5zZW5kKGRhdGEpO1xyXG59O1xyXG4iLCJcclxuLy9ET01IQU5ETEVSXHJcblxyXG52YXIgRE9NSEFORExFUiA9IHtcclxuICAgIHNldElucHV0VHlwZTogZnVuY3Rpb24odHlwZSkge1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICB9LFxyXG4gICAgZ2V0SW5wdXRUeXBlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50eXBlO1xyXG4gICAgfSxcclxuICAgIHNldElucHV0U29ydDogZnVuY3Rpb24oc29ydCkge1xyXG4gICAgICAgIHRoaXMuc29ydCA9IHNvcnQ7XHJcbiAgICB9LFxyXG4gICAgZ2V0SW5wdXRTb3J0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zb3J0O1xyXG4gICAgfVxyXG59O1xyXG5cclxuLy9JTklUIE1BSU4gRVZFTlRTIElOIFRIRSBUT01cclxuRE9NSEFORExFUi5pbml0ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBpbnB1dFR5cGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5wdXQtdHlwZScpLFxyXG4gICAgICAgIGlucHV0U29ydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnB1dC1zb3J0JyksXHJcbiAgICAgICAgZ2FsbGVyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5nYWxsZXJ5X19saW5rJyksXHJcbiAgICAgICAgbWVudUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudS1saXN0JyksXHJcbiAgICAgICAgbGFzdExpc3RJdGVtID0gbWVudUxpc3QuY2hpbGRyZW5bbWVudUxpc3QuY2hpbGRyZW4ubGVuZ3RoLTFdLFxyXG4gICAgICAgIGNvbnRhY3RGcm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWN0LWZvcm0nKTtcclxuICAgICAgICBhcnIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChnYWxsZXJ5KTtcclxuICAgICAgICAvL1NFVCBUWVBFUyBPTiBET01IQU5ETEVSIE9CSkVDVCBBTkQgQUREIExJU1RFTkVSUyBUTyBUSE9TRSBJTlBVVFNcclxuICAgICAgICB0aGlzLnNldElucHV0VHlwZShpbnB1dFR5cGUudmFsdWUpO1xyXG4gICAgICAgIHRoaXMuc2V0SW5wdXRTb3J0KGlucHV0U29ydC52YWx1ZSk7XHJcbiAgICAgICAgaW5wdXRUeXBlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuY2xpY2tMaXN0ZW5lci5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgICAgICAgaW5wdXRTb3J0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuY2xpY2tMaXN0ZW5lci5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIC8vQUREIExJU1RFTkVSIEZPUiBHQUxMRVJZXHJcbiAgICAgICAgYXJyLm1hcChmdW5jdGlvbihpdGVtKXtcclxuICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIEdBTExFUlkuaW5pdC5iaW5kKEdBTExFUlkpLCBmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQ0hFQ0sgV0hFTiBUQUJCSU5HIE9VVCBGUk9NIE5BVklHQVRJT05cclxuXHJcbiAgICAgICAgbGFzdExpc3RJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBOQVZJR0FUSU9OLmhpZGVGb2N1cy5iaW5kKE5BVklHQVRJT04pLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIG1lbnVMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgTkFWSUdBVElPTi5oaWRlQ2xpY2suYmluZChOQVZJR0FUSU9OKSwgZmFsc2UpO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgTkFWSUdBVElPTi5oaWRlQ2xpY2tPdXQuYmluZChOQVZJR0FUSU9OKSwgZmFsc2UpO1xyXG5cclxuICAgICAgICBjb250YWN0RnJvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgQ09OVEFDVC52YWxpZGF0ZS5iaW5kKENPTlRBQ1QpLCBmYWxzZSk7XHJcbn07XHJcblxyXG5cclxuXHJcbi8vQ0xJQ0sgTElTVEVORVJFIE9OIFRXTyBzZWxlY3QgaW5wdXRzIChyZXNwb25zaWJsZSBmb3IgY2hhZ2luZyBtYXAgZGV0YWlscyBzb3J0aW5nKVxyXG5ET01IQU5ETEVSLmNsaWNrTGlzdGVuZXIgPSBmdW5jdGlvbihlKSB7XHJcbiAgICB2YXIgc3JjID0gZS5zcmMgfHwgZS50YXJnZXQsXHJcbiAgICAgICAgdmFsdWUgPSBzcmMudmFsdWUsXHJcbiAgICAgICAgY29uZmlnID0ge307XHJcblxyXG4gICAgaWYgKHNyYy5pZCA9PT0gJ2lucHV0LXR5cGUnKSB7XHJcbiAgICAgICAgdGhpcy5zZXRJbnB1dFR5cGUodmFsdWUpO1xyXG4gICAgfVxyXG4gICAgaWYgKHNyYy5pZCA9PT0gJ2lucHV0LXNvcnQnKSB7XHJcbiAgICAgICAgdGhpcy5zZXRJbnB1dFNvcnQodmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY29uZmlnID0ge1xyXG4gICAgICAgIHR5cGU6IHRoaXMuZ2V0SW5wdXRUeXBlKCksXHJcbiAgICAgICAgc29ydDogdGhpcy5nZXRJbnB1dFNvcnQoKVxyXG4gICAgfTtcclxuXHJcbiAgICBNQVBTLmluaXRpYWxpemUoY29uZmlnKTtcclxufTtcclxuIiwiLy9HQUxMRVJZIE9CSkVDVCBXSVRIIE1BSU4gUFJPUEVSVElFUyBPTiBJVFxyXG5cclxudmFyIEdBTExFUlkgPSB7XHJcbiAgICBjb2xsZWN0aW9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZ2FsbGVyeV9faXRlbScpLFxyXG4gICAgZGl2OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnVsbC1zY3JlZW4tZ2FsbGVyeScpLFxyXG4gICAgY2xvc2VCdG46IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpLFxyXG4gICAgY2hlY2tJZkZpcmVkQWxyZWFkeTogZmFsc2UsXHJcbiAgICB3aW5kb3dXaWR0aDogd2luZG93LmlubmVyV2lkdGhcclxufTtcclxuXHJcblxyXG4vL0ZVTkNUSU9OIFRIQVQgSU5JVElBTElaRSBHQUxMRVJZIEVWRVJZVElNRSBJTUFHRSBJUyBDTElDS0VEXHJcbkdBTExFUlkuaW5pdCA9IGZ1bmN0aW9uKGUpe1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHJcbiAgICAvL2JlbG93IDIgdmFyaWFibGVzIGFyZSBjaGVja2luZyBpZiBjbGlja2VkIGVsZW1lbnQgd2FzIGltYWdlIChjbGljaykgb3IgbGluayAoa2V5IHByZXNzKVxyXG4gICAgLy9hbmQgZ2V0cyBzb3VyY2UgYmFzZSBvbiB0aGF0XHJcbiAgICB2YXIgZXZlbnRTb3VyY2UgPSB7fSxcclxuICAgICAgICBsaW5rRWxlbWVudCA9IHt9O1xyXG4gICAgICAgIGNvbnRlbnQgPSAnJztcclxuXHJcbiAgICAgICAgaWYoIWUuc3JjRWxlbWVudCkge1xyXG4gICAgICAgICAgICBldmVudFNvdXJjZSA9IChlLnRhcmdldC5ub2RlTmFtZSAhPT0gJ0lNRycpID8gZS50YXJnZXQuZmlyc3RDaGlsZCA6IGUudGFyZ2V0O1xyXG4gICAgICAgICAgICBsaW5rRWxlbWVudCA9IChlLnRhcmdldC5ub2RlTmFtZSAhPT0gJ0lNRycpID8gZS50YXJnZXQgOiBlLnRhcmdldC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGV2ZW50U291cmNlID0gKGUuc3JjRWxlbWVudC5ub2RlTmFtZSAhPT0gJ0lNRycpID8gZS5zcmNFbGVtZW50LmZpcnN0Q2hpbGQgOiBlLnNyY0VsZW1lbnQ7XHJcbiAgICAgICAgICAgIGxpbmtFbGVtZW50ID0gKGUuc3JjRWxlbWVudC5ub2RlTmFtZSAhPT0gJ0lNRycpID8gZS5zcmNFbGVtZW50IDogZS5zcmNFbGVtZW50LnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2JlbGxvdyBpcyB0dXJuaW5nIGh0bWwgY29sbGVjdGlvbiBpbnRvIGFycmF5XHJcbiAgICAgICAgYXJyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoIHRoaXMuY29sbGVjdGlvbiApO1xyXG5cclxuICAgICAgICAvL2FkZCBjbGFzc2VzIGFuZCBhdHRyaWJ1dGVzIHRvIGh0bWwgZWxlbWVudHNcclxuICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdmdWxsLXNjcmVlbi1nYWxsZXJ5LS12aXNpYmxlJyk7XHJcbiAgICAgICAgdGhpcy5jbG9zZUJ0bi5jbGFzc0xpc3QuYWRkKCdmdWxsLXNjcmVlbi1nYWxsZXJ5X19idXR0b24nKTtcclxuICAgICAgICB0aGlzLmNsb3NlQnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdQcmVzcyBlbnRlciB0byBjbG9zZSBnYWxsZXJ5LCB1c2UgYnV0dG9ucyB0byBzY3JvbGwgZ2FsbGVyeScpO1xyXG5cclxuICAgICAgICAvL21hcCB0aHJvdWdoIGNvbGVjdGlvbiBvZiBpbWFnZXMgYW5kIGFwcGVuZCBkYXRhIHRvICdjb250ZW50JyB2YXJpYWJsZVxyXG4gICAgICAgIGFyci5tYXAoZnVuY3Rpb24oaXRlbSwgaW5kZXgpe1xyXG4gICAgICAgICAgICB2YXIgaWQgPSBpbmRleCsxO1xyXG4gICAgICAgICAgICBpZihpdGVtLnNyYyA9PT0gZXZlbnRTb3VyY2Uuc3JjKXtcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQgKz1cclxuICAgICAgICAgICAgICAgICAgICAnPGltZyBjbGFzcz1cImZ1bGwtc2NyZWVuLWdhbGxlcnlfX2ltYWdlXCIgaWQ9XCJpbWFnZS1hY3RpdmVcIiBzcmM9XCIuL2ltYWdlcy8nK2lkKycuanBnXCIgYWx0PVwiXCI+JztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQgKz1cclxuICAgICAgICAgICAgICAgICc8aW1nIGNsYXNzPVwiZnVsbC1zY3JlZW4tZ2FsbGVyeV9faW1hZ2VcIiBzcmM9XCIuL2ltYWdlcy8nK2lkKycuanBnXCIgYWx0PVwiXCI+JztcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LmJpbmQodGhpcykpO1xyXG5cclxuICAgICAgICAvL3doZW4gY2xvc2UgYnV0dG9uIGlzIGNsaWNrZWQsIHJlbW92ZSB0aGUgY2xhc3MgYW5kIGZvY3VzIHByZXZpb3VzbHkgb3BlbmVkIGxpbmtcclxuICAgICAgICB0aGlzLmNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIHRoaXMuZGl2LmNsYXNzTGlzdC5hZGQoJ2Z1bGwtc2NyZWVuLWdhbGxlcnktLWhpZGRlbicpO1xyXG4gICAgICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QucmVtb3ZlKCdmdWxsLXNjcmVlbi1nYWxsZXJ5LS12aXNpYmxlJyk7XHJcbiAgICAgICAgICAgIGxpbmtFbGVtZW50LmZvY3VzKCk7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIC8vd2hlbiBidXR0b24gaXMgcHJlc3NlZCB3aXRoIGtleWJvcmQsIGNoZWNrIGlmIGl0IFdBUyBOT1QgZW50ZXIgYW5kIHByZXZlbnQgZm9yIGZvY3VzaW5nIG90aGVyIGVsZW1lbnRzXHJcbiAgICAgICAgdGhpcy5jbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgIT09IDEzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpdi5mb2N1cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIC8vY2xvc2UgZ2FsbGVyeSB3aGVuIGNsaWNrZWQgYW55d2hlcmUgb3V0c2lkZSBpbWFnZVxyXG4gICAgICAgIHRoaXMuZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIC8vY2hlY2sgaWYgYnJvd3NlciBzdXBwb3JzdCBlLnNyY0VsZW1lbnRcclxuICAgICAgICAgICAgaWYgKGUuc3JjRWxlbWVudCkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vaWYgZWxlbWVudCB0aGF0IHdhcyBjbGlja2VkIHdhc24ndCBpbWFnZSAtIGNsb3NlIHRoZSBkaXZcclxuICAgICAgICAgICAgICAgIGlmICghZS5zcmNFbGVtZW50LnNyYykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGl2LmNsYXNzTGlzdC5hZGQoJ2Z1bGwtc2NyZWVuLWdhbGxlcnktLWhpZGRlbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGl2LmNsYXNzTGlzdC5yZW1vdmUoJ2Z1bGwtc2NyZWVuLWdhbGxlcnktLXZpc2libGUnKTtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rRWxlbWVudC5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vaWYgZWxlbWVudCB0aGF0IHdhcyBjbGlja2VkIHdhc24ndCBpbWFnZSAtIGNsb3NlIHRoZSBkaXZcclxuICAgICAgICAgICAgICAgIGlmICghZS50YXJnZXQuc3JjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnZnVsbC1zY3JlZW4tZ2FsbGVyeS0taGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXYuY2xhc3NMaXN0LnJlbW92ZSgnZnVsbC1zY3JlZW4tZ2FsbGVyeS0tdmlzaWJsZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmtFbGVtZW50LmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LmJpbmQodGhpcyksIGZhbHNlKTtcclxuXHJcbiAgICAgICAgLy9hcHBlbmQgbWFwcGVkIGNvbnRlbnQgdG8gdGhlIGRpdiBhbmQgYWRkIGJ1dHRvbiBpbiB0aGUgZW5kXHJcbiAgICAgICAgdGhpcy5kaXYuaW5uZXJIVE1MID0gY29udGVudDtcclxuICAgICAgICB0aGlzLmRpdi5hcHBlbmRDaGlsZCh0aGlzLmNsb3NlQnRuKTtcclxuXHJcbiAgICAgICAgLy9hcHBlbmQgZGl2IHRvIGJvZHlcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcclxuXHJcbiAgICAgICAgLy9mb2N1cyB0aGUgY3VycmVudCBkaXYgKHRoaXMgaXMgdG8gbWFrZSBwb3NzaWJsZSBzY3JvbGxpbmcgd2l0aCBhcnJvdyBrZXlzKVxyXG4gICAgICAgIHRoaXMuZGl2LmZvY3VzKCk7XHJcblxyXG4gICAgICAgIC8vR2V0IG9mZnNldCBvZiBhY3RpdmUgZWxlbWVudCAodGhlIG9uZSB0aGF0IHdhcyBjbGlja2VkIG9uIHRodW1ibmFpbCkgYW5kIHNjcm9sbCB0byBpdCdzIHBvc2l0aW9uXHJcbiAgICAgICAgdmFyIG9UID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltYWdlLWFjdGl2ZScpLm9mZnNldFRvcDtcclxuICAgICAgICB0aGlzLmRpdi5zY3JvbGxUb3AgPSBvVDtcclxuXHJcbiAgICAgICAgLy9hZGQgdGV4dCB0byB0aGUgY2xvc2UgYnV0dG9uXHJcbiAgICAgICAgdGhpcy5jbG9zZUJ0bi5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9XCJmYSBmYS10aW1lc1wiPjwvc3Bhbj4nO1xyXG5cclxuICAgICAgICAvL2lmIHdpbmRvdyBpcyB3aWRlciB0aGFuIDEwMDBweCBhbGVydCBpbnN0cnVjdGlvbiBhYm91dCBnYWxsZXJ5IHNjcm9sbGluZ1xyXG4gICAgICAgIC8vb24gd2lkZXIgc2NyZWVuIGltYWdlIG1heSB0YWtlIGZ1bGwgaGVpZ2h0IGFuZCBpdCBtYXkgYmUgaGFyZCB0byBmaWd1cmUgb3V0IGhvdyB0byBuYXZpZ2F0ZSB0aHJvdWdoIGdhbGxlcnlcclxuICAgICAgICBpZiAodGhpcy53aW5kb3dXaWR0aCA+IDEwMDApIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tJZkZpcmVkQWxyZWFkeSA9PT0gZmFsc2Upe1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoJ1RPIFZJRVcgR0FMTEVSWSBTQ1JPTEwgVVAgT1IgRE9XTlxcblxcbk9SIFVTRSBBUlJPVyBLRVlTJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jaGVja0lmRmlyZWRBbHJlYWR5ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbn07XHJcbiIsInZhciBNQVBTID0ge1xyXG4gICAgbWFwOiB7fSxcclxuICAgIHNlcnZpY2U6IHt9LFxyXG4gICAgaW5mb1dpbmRvdzoge30sXHJcbiAgICBkaXN0YW5jZToge30sXHJcbiAgICBjb3Jkczoge2xhdDogNTEuNTI0ODEzLCBsbmc6IC0wLjEyNTY4OH0sXHJcbiAgICBwbGFjZXNMaXN0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwLWxpc3QnKVxyXG59O1xyXG5cclxuLy9JTklUSUFMSVpFIFRIRSBNQVAgKEZJUkVEIE9OIFRIRSBTVEFSVCBBTkQgT04gRVZFUlkgQ0hBTkdFIE9GIERBVEEgKEZST00gU0xFQ1QgSU5QVVQ6IFRZUEUgQU5EIFNPUlQpKVxyXG5NQVBTLmluaXRpYWxpemUgPSBmdW5jdGlvbihjb25maWcpe1xyXG5cclxuICAgIC8vQ0xFQVIgVEhFIExJU1QgT0YgUExBQ0VTIEJFRk9SRSBJTklUSUFMSVpJTkdcclxuICAgIHRoaXMucGxhY2VzTGlzdC5pbm5lckhUTUwgPSAnJztcclxuXHJcbiAgICAvL1JFUSBPQko6IFRBS0VTIFJBTkssIFRZUEUgRlJPTSBDT05GSUcgQVJHVU1FTlQgUEFTU0VEIFRPIFRISVMgRlVOQ1RJT04gQU5EIFNFVFMgREFUQSBERVBFTkRJTkcgT04gVEhBVFxyXG4gICAgdmFyIHJlcXVlc3QgPSB7XHJcbiAgICAgICAgICAgIGxvY2F0aW9uOiB0aGlzLmNvcmRzLFxyXG4gICAgICAgICAgICB0eXBlOiBbY29uZmlnLnR5cGVdLFxyXG4gICAgICAgICAgICByYW5rQnk6IChjb25maWcuc29ydCA9PT0gJ3JhbmsnKSA/IGdvb2dsZS5tYXBzLnBsYWNlcy5SYW5rQnkuUFJPTUlORU5DRSA6IGdvb2dsZS5tYXBzLnBsYWNlcy5SYW5rQnkuRElTVEFOQ0UsXHJcbiAgICAgICAgICAgIHJhZGl1czogKGNvbmZpZy5zb3J0ID09PSAncmFuaycpID8gJzEwMDAnIDogbnVsbFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgLy9DUkVBVEUgTkVXIEdPT0dMRSBNQVBcclxuICAgIHRoaXMubWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwLWRpc3BsYXknKSx7XHJcbiAgICAgICAgY2VudGVyOiB0aGlzLmNvcmRzLFxyXG4gICAgICAgIHpvb206IDE1LFxyXG4gICAgICAgIGNvcmRzOiB0aGlzLmNvcmRzLFxyXG4gICAgICAgIGRpc2FibGVEZWZhdWx0VUk6IHRydWUsXHJcbiAgICAgICAgZ2VzdHVyZUhhbmRsaW5nOiAnY29vcGVyYXRpdmUnXHJcbiAgICB9KTtcclxuXHJcbiAgICAvL0NSRUFURSBNQVJLRVIgKElDT04pIEZPUiBDRU5URVIgUE9JTlRcclxuICAgIHZhciBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcclxuICAgICAgICBtYXA6IHRoaXMubWFwLFxyXG4gICAgICAgIHBvc2l0aW9uOiB0aGlzLmNvcmRzXHJcbiAgICB9KTtcclxuXHJcbiAgICAvL0lOSVRJQUxJWkUgT1RIRVIgR09PR0xFIFNFUlZJQ0VTXHJcbiAgICB0aGlzLmluZm9XaW5kb3cgPSBuZXcgZ29vZ2xlLm1hcHMuSW5mb1dpbmRvdygpO1xyXG4gICAgdGhpcy5zZXJ2aWNlID0gbmV3IGdvb2dsZS5tYXBzLnBsYWNlcy5QbGFjZXNTZXJ2aWNlKHRoaXMubWFwKTtcclxuICAgIHRoaXMuZGlzdGFuY2UgPSBuZXcgZ29vZ2xlLm1hcHMuRGlzdGFuY2VNYXRyaXhTZXJ2aWNlKCk7XHJcblxyXG5cclxuICAgIHRoaXMuaW5mb1dpbmRvdy5zZXRDb250ZW50KCc8c3Bhbj5IZXJicmFuZCBTdHJlZXQ8YnI+Qmxvb21zYnVyeTxicj5Mb25kb248YnI+V0MxTjwvc3Bhbj4nKTtcclxuICAgIHRoaXMuaW5mb1dpbmRvdy5vcGVuKHRoaXMubWFwLCBtYXJrZXIpO1xyXG4gICAgLy9JTklUSUFMSVpFIG5lYXJieVNlYXJjaCBUTyBGSU5EIFBMQUNFUyBJTiBMT0NBTCBBUkVBIEFORCBDQUxMIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgICB0aGlzLnNlcnZpY2UubmVhcmJ5U2VhcmNoKHJlcXVlc3QsIHRoaXMuY2FsbGJhY2spO1xyXG5cclxufTtcclxuXHJcbi8vU0VBUkNIIEZPUiBEQVRBIEJBU0lORyBPTiBSRVFVRVNUIE9CSiBGUk9NIEFCT1ZFIEFORCBDUkVBVEUgTUFSS0VSUyBPTiBNQVAgRk9SIFBMQUNFU1xyXG5NQVBTLmNhbGxiYWNrID0gZnVuY3Rpb24ocmVzdWx0cywgc3RhdHVzKSB7XHJcbiAgICBpZiAoc3RhdHVzID09IGdvb2dsZS5tYXBzLnBsYWNlcy5QbGFjZXNTZXJ2aWNlU3RhdHVzLk9LKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHJlc3VsdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgTUFQUy5jcmVhdGVNYXJrZXIocmVzdWx0c1tpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5cclxuLy9BQ1RVQUwgRlVOQ1RJT04gUkVTUE9OU0lCTEUgRk9SIENSRUFUSU5HIE1BUktFUlNcclxuLy9JVCBTRVRTIFRIRSBNQVJLRVIgRk9SIEVBQ0ggUExBQ0UgRk9VTkQgSU4gY2FsbGJhY2sgRlVOQ1RJT04gQUJPVkVcclxuLy9BTkQgQ0FMTFMgJ0NBTENVTEFURSBESVNUQU5DRS9ESVNQTEFZIExJU1QnIEZVTkNUSU9OIFdISUNIIFdJTEwgU0hPVyBUSEUgTElTVFxyXG5NQVBTLmNyZWF0ZU1hcmtlciA9IGZ1bmN0aW9uKHBsYWNlKSB7XHJcblxyXG4gICAgLy9DUkVBVEUgTkVXIE1BUktFUlxyXG4gICAgdmFyIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xyXG4gICAgICAgIG1hcDogdGhpcy5tYXAsXHJcbiAgICAgICAgcG9zaXRpb246IHBsYWNlLmdlb21ldHJ5LmxvY2F0aW9uLFxyXG4gICAgICAgIGljb246IHtcclxuICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vbWFwcy9kb2N1bWVudGF0aW9uL2phdmFzY3JpcHQvaW1hZ2VzL2NpcmNsZS5wbmcnXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy9BREQgQ0xJQ0sgTElTVEVORVIgT04gQUNUVUFMIE1BUktFUlxyXG4gICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFya2VyLCAnY2xpY2snLCBmdW5jdGlvbigpe1xyXG4gICAgICAgIHRoaXMuc2VydmljZS5nZXREZXRhaWxzKHBsYWNlLCBmdW5jdGlvbihyZXN1bHQsIHN0YXR1cyl7XHJcbiAgICAgICAgICAgIGlmIChzdGF0dXMgIT09IGdvb2dsZS5tYXBzLnBsYWNlcy5QbGFjZXNTZXJ2aWNlU3RhdHVzLk9LKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHN0YXR1cyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vU0VUIENPTlRFTlQgT0YgSU5GT1dJTkRPVyBUSEFUIFdJTEwgT1BFTiBBRlRFUiBNQVJLRVIgSVMgQ0xJQ0tFRFxyXG4gICAgICAgICAgICB0aGlzLmluZm9XaW5kb3cuc2V0Q29udGVudCgnPGgyPicrcmVzdWx0Lm5hbWUrJzwvaDI+JyArIHJlc3VsdC5hZHJfYWRkcmVzcyApO1xyXG4gICAgICAgICAgICB0aGlzLmluZm9XaW5kb3cub3Blbih0aGlzLm1hcCwgbWFya2VyKTtcclxuICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgfS5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICAvL0NBTEwgRlVOQ1RJT04gVEhBVCBXSUxMIENBTENVTEFURSBUSEUgRElTVEFOQ0VcclxuICAgIE1BUFMuY2FsY3VsYXRlRGlzdGFuY2UocGxhY2UsIG1hcmtlcik7XHJcblxyXG59O1xyXG5cclxuLy9USElTIEZVTkNUSU9OIENBTENVTEFURVMgVEhFIERJU1RBTkNFIEJFVFdFRU4gVFdPIFBPSU5UUzogTUFJTiBBTkQgRUFDSCBQQUNFIEZPVU5EIElOIGNhbGxiYWNrIEZVTkNUSU9OIEFCT1ZFXHJcbi8vSVQgVEFLU0UgcGxhY2UgQU5EIG1hcmtlciBBUyBQQVJBTUVURVJTLiBNQVJLRVIgSVMgTkVFREVEIFRPIExJTksgVEhFIExJU1QgV0lUSCBBQ1RVQUwgTUFSS0VSIE9OIFRIRSBNQVAgTEFURVJcclxuTUFQUy5jYWxjdWxhdGVEaXN0YW5jZSA9IGZ1bmN0aW9uKHBsYWNlLCBtYXJrZXIpIHtcclxuXHJcbiAgICAgICAgLy9QT0lOVCBSRVRVUk5TIEFDVFVBTCBMQVQgQU5EIExORyBPRiBUSEUgUExBQ0UgVE8gSEVMUCBDQUxDVUxBVElORyBUSEUgRElTVEFOQ0VcclxuICAgICAgICBwb2ludCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHZhciBsYXQgPSBwbGFjZS5nZW9tZXRyeS5sb2NhdGlvbi5sYXQoKSxcclxuICAgICAgICAgICAgICAgIGxuZyA9IHBsYWNlLmdlb21ldHJ5LmxvY2F0aW9uLmxuZygpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbGF0OiBsYXQsXHJcbiAgICAgICAgICAgICAgICBsbmc6IGxuZ1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vR0VUIERJU1RBTkNFIEJFVFdFRU4gb3JpZ2lucyBBTkQgZGVzdGluYXRpb25zIFdJVEggJ1dBTEtJTkcnIE1PREVcclxuICAgICAgICB0aGlzLmRpc3RhbmNlLmdldERpc3RhbmNlTWF0cml4KHtcclxuICAgICAgICAgICAgb3JpZ2luczogW3RoaXMuY29yZHNdLFxyXG4gICAgICAgICAgICBkZXN0aW5hdGlvbnM6IFtwb2ludCgpXSxcclxuICAgICAgICAgICAgdHJhdmVsTW9kZTogJ1dBTEtJTkcnXHJcbiAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2Usc3RhdHVzKXtcclxuICAgICAgICAgICAgLy9nZXQgZHVyYXRpb24gdmFsdWUgKGluIG1pdXRlcylcclxuICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gcmVzcG9uc2Uucm93c1swXS5lbGVtZW50c1swXS5kdXJhdGlvbi50ZXh0O1xyXG5cclxuICAgICAgICAgICAgLy9DQUxMIFRIRSBESVNQTEFZIExJU1QgZnVuY3Rpb25cclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5TGlzdChkdXJhdGlvbiwgcGxhY2UsIG1hcmtlcik7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxufTtcclxuXHJcblxyXG4vL1RISVMgRlVOQ1RJT04gV0lMTCBESVNQTEFZIFRIRSBMSVNUIE9GIFBMQUNFU1xyXG4vL0lUIFRBS1NFIDMgQVJHVU1FTlRTOiBkdXJhdGlvbiAtIFRSQVZFTCBUSU1FIElOIE1JTlVURVMsIHBsYWNlLCBBTkQgbWFya2VyIC0gVE8gTElOSyBMSVNUIFdJVEggTUFSS0VSIE9OIFRIRSBNQVBcclxuTUFQUy5kaXNwbGF5TGlzdCA9IGZ1bmN0aW9uKGR1cmF0aW9uLCBwbGFjZSwgbWFya2VyKXtcclxuXHJcblxyXG4gICAgLy9DUkVBVEUgRElWIFRIQVQgV0lMTCBCRSBDT05UQUlORVIgRk9SIEVBQ0ggUExBQ0UgSVRFTSBPTiBUSEUgTElTVFxyXG4gICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxyXG4gICAgICAgIGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpLFxyXG4gICAgICAgIGRldGFpbHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcclxuICAgICAgICAgc3BhbiA9ICcnO1xyXG4gICAgZGl2LmNsYXNzTGlzdC5hZGQoJ21hcC1saXN0X19pdGVtJyk7XHJcbiAgICBidG4uY2xhc3NMaXN0LmFkZCgnbWFwLWxpc3RfX2J1dHRvbicpO1xyXG4gICAgZGV0YWlscy5jbGFzc0xpc3QuYWRkKCdtYXAtbGlzdF9fZGV0YWlscy1saXN0Jyk7XHJcbiAgICBkZXRhaWxzLmNsYXNzTGlzdC5hZGQoJ21hcC1saXN0X19kZXRhaWxzLWxpc3QtLWhpZGRlbicpO1xyXG5cclxuICAgIGJ0bi5pbm5lckhUTUwgPSAnU0VFIE1PUkUgREVUQUlMUyc7XHJcblxyXG4gICAgLy9pZiBwbGFjZSBoYXMgcGhvdG9zIGFkZCBhbiBpbWFnZSB3aXRoIHBob3RvIGFuZCBhcHBlbmQgaXQgdG8gc3BhbiB2YXJpYWJsZS4gaWYgbm8gaW1hZ2UgZm91bmQsIHVzZSBpY29uXHJcbiAgICBpZiAocGxhY2UucGhvdG9zICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgc3BhbiArPSAnPGltZyBjbGFzcz1cIm1hcC1saXN0X19pbWFnZVwiIHNyYz1cIicrIHBsYWNlLnBob3Rvc1swXS5nZXRVcmwoe21heFdpZHRoOiA3NSwgbWF4SGVpZ2h0OiA3NX0pKydcIiBhbHQ9XCJcIj4nO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc3BhbiArPSAnPGltZyBjbGFzcz1cIm1hcC1saXN0X19pbWFnZVwiIHNyYz1cIicrIHBsYWNlLmljb24rJ1wiIGFsdD1cIlwiPic7XHJcbiAgICB9XHJcblxyXG4gICAgLy9CRUxPVyBDT01NQU5EUyBBUkUgQURESU5HIENPTlRFTlQgVE8gRUFDSCBMSVNUIElURU06IEhFQURFUiwgRFVSQVRJT04gSU5GTywgREVUQUlMUyBESVYgQU5EIFRIRSBzZWUgbW9yZSBkZXRhaWxzIEJVVFRPTlxyXG4gICAgc3BhbiArPVxyXG4gICAgICAgICc8aDMgY2xhc3M9XCJtYXAtbGlzdF9fbmFtZVwiPicrXHJcbiAgICAgICAgICAgIHBsYWNlLm5hbWUgK1xyXG4gICAgICAgICc8L2gzPicrXHJcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwibWFwLWxpc3RfX2R1cmF0aW9uXCI+JytcclxuICAgICAgICAgICAgJ0Rpc3RhbmNlIGJ5IHdhbGtpbmc6ICcgK1xyXG4gICAgICAgICAgICAnPGI+JyArZHVyYXRpb24rICc8L2I+JyArXHJcbiAgICAgICAgJzwvc3Bhbj4nO1xyXG5cclxuICAgIGRpdi5pbm5lckhUTUwgPSBzcGFuO1xyXG4gICAgZGl2LmFwcGVuZENoaWxkKGRldGFpbHMpO1xyXG4gICAgZGl2LmFwcGVuZENoaWxkKGJ0bik7XHJcbiAgICB0aGlzLnBsYWNlc0xpc3QuYXBwZW5kQ2hpbGQoZGl2KTtcclxuXHJcblxyXG4gICAgLy9BREQgRVZFTlQgTElTVEVORVJTIFdIRU4gSU5URVJBQ1RJTkcgV0lUSCBUSEUgTElTVFxyXG4gICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsZnVuY3Rpb24oKXtcclxuICAgICAgICBtYXJrZXIuc2V0SWNvbignJyk7XHJcbiAgICB9LGZhbHNlKTtcclxuXHJcbiAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsZnVuY3Rpb24oKXtcclxuICAgICAgICBtYXJrZXIuc2V0SWNvbignaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vbWFwcy9kb2N1bWVudGF0aW9uL2phdmFzY3JpcHQvaW1hZ2VzL2NpcmNsZS5wbmcnKTtcclxuICAgIH0sZmFsc2UpO1xyXG5cclxuXHJcbiAgICAvL0FGVEVSIFlPVSBDTElDSyBPTiBBIERJViwgT1BFTiBJTkZPIFdJTkRPVyBPTiBUSEUgTUFSS0VSXHJcbiAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdGhpcy5zZXJ2aWNlLmdldERldGFpbHMocGxhY2UsIGZ1bmN0aW9uKHJlc3VsdCwgc3RhdHVzKXtcclxuICAgICAgICAgICAgaWYgKHN0YXR1cyAhPT0gZ29vZ2xlLm1hcHMucGxhY2VzLlBsYWNlc1NlcnZpY2VTdGF0dXMuT0spIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3Ioc3RhdHVzKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmluZm9XaW5kb3cuc2V0Q29udGVudChcclxuICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcz1cInBsYWNlLW5hbWVcIj48Yj4nK3Jlc3VsdC5uYW1lKyc8L2I+PC9zcGFuPicrXHJcbiAgICAgICAgICAgICAgICByZXN1bHQuYWRyX2FkZHJlc3MrXHJcbiAgICAgICAgICAgICAgICAnPGEgY2xhc3M9XCJwbGFjZS1saW5rXCIgaHJlZj1cIicrcmVzdWx0LnVybCsnXCIgdGFyZ2V0PVwiX2JsYW5rXCI+T3BlbiBpbiBNYXBzJytcclxuICAgICAgICAgICAgICAgICc8L2E+J1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB0aGlzLmluZm9XaW5kb3cub3Blbih0aGlzLm1hcCwgbWFya2VyKTtcclxuICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgfS5iaW5kKHRoaXMpLGZhbHNlKTtcclxuXHJcblxyXG4gICAgLy9FVkVOVCBMSVNURU5FUiBGT1IgJ1NFRSBNT1JFIERFVEFJTFMnIEJVVFRPTiBPTiBQTEFDRVMgTElTVFxyXG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxmdW5jdGlvbihlKXtcclxuICAgICAgICAvL3N0b3AgcHJvcGFnYXRpb24gKGRvbid0IGRpc3BsYXkgdGhlIGluZm8gd2luZG93IGluIG1hcCB0aGF0IGlzIGZpcmVkIHdoZW4gZGl2IGNsaWNrZWQpXHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB0aGlzLnNlcnZpY2UuZ2V0RGV0YWlscyhwbGFjZSwgZnVuY3Rpb24ocmVzdWx0LCBzdGF0dXMpe1xyXG4gICAgICAgICAgICBpZiAoc3RhdHVzICE9PSBnb29nbGUubWFwcy5wbGFjZXMuUGxhY2VzU2VydmljZVN0YXR1cy5PSykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihzdGF0dXMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL09OIENMSUNLIFRPR0dMRSBUSEUgVklTSUJJTElUWSBPRiBUSEUgRElWXHJcbiAgICAgICAgICAgIGRldGFpbHMuY2xhc3NMaXN0LnRvZ2dsZSgnbWFwLWxpc3RfX2RldGFpbHMtbGlzdC0taGlkZGVuJyk7XHJcbiAgICAgICAgICAgIGRldGFpbHMuY2xhc3NMaXN0LnRvZ2dsZSgnbWFwLWxpc3RfX2RldGFpbHMtbGlzdC0tdmlzaWJsZScpO1xyXG5cclxuICAgICAgICAgICAgLy9CRUxPVyBWQVJJQUJMRSBXSUxMIEJFIElOU0VSVEVEIElOVE8gZGV0YWlscyBESVZcclxuICAgICAgICAgICAgdmFyIHJlc3VsdHNEYXRhID0gJyc7XHJcblxyXG4gICAgICAgICAgICAvL0lGIFBMQUNFIEhBUyByZXN1bHQudXJsIEFERCBJVCBUTyBSRVNVTFQgREFUQSBDT05URU5UXHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnVybCAhPT11bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHNEYXRhICs9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8YSBjbGFzcz1cImRldGFpbHMtbGlzdF9fbGlua1wiIGhyZWY9XCInK3Jlc3VsdC51cmwrJ1wiIHRpdGxlPVwiTGluayB0byBwbGFjZSBpbiBnb29nbGUgbWFwcyBhcHBcIiB0YXJnZXQ9XCJfYmxhbmtcIj4nK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwiZGV0YWlscy1saXN0X19pY29uIGZhIGZhLWdvb2dsZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPicrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9zcGFuPicrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJkZXRhaWxzLWxpc3RfX2Rlc2NyaXB0aW9uXCI+JytcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnT3BlbiBpbiBNYXBzJytcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L3NwYW4+JytcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzwvYT4nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vSUYgUExBQ0UgSEFTIHJlc3VsdC53ZWJzaXRlIEFERCBJVCBUTyBSRVNVTFQgREFUQSBDT05URU5UXHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LndlYnNpdGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHNEYXRhICs9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8YSBjbGFzcz1cImRldGFpbHMtbGlzdF9fbGlua1wiIGhyZWY9XCInK3Jlc3VsdC53ZWJzaXRlKydcIiB0aXRsZT1cIkxpbmsgdG8gd2ViaXN0ZSBvZiB0aGUgcGxhY2VcIiB0YXJnZXQ9XCJfYmxhbmtcIj4nK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwiZGV0YWlscy1saXN0X19pY29uIGZhIGZhLWdsb2JlXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+JytcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L3NwYW4+JytcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcz1cImRldGFpbHMtbGlzdF9fZGVzY3JpcHRpb25cIj4nK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXZWJzaXRlJytcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L3NwYW4+JytcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzwvYT4nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vSUYgUExBQ0UgSEFTIHJlc3VsdC5yYXRpbmcgQUREIElUIFRPIFJFU1VMVCBEQVRBIENPTlRFTlRcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQucmF0aW5nICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzRGF0YSArPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJkZXRhaWxzLWxpc3RfX2l0ZW1cIj4nK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcz1cImRldGFpbHMtbGlzdF9faWNvbiBmYSBmYS1zdGFyXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+JytcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9zcGFuPicrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwiZGV0YWlscy1saXN0X19kZXNjcmlwdGlvblwiPicrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5yYXRpbmcrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvc3Bhbj4nK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2Pic7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL0lOU0VSVCBUSEUgQ09OVEVOVCBJTlRPIFRIRSBESVYgQU5EIEZPQ1VTIEZJUlNUIEVMRU1FTlQgSU5TSURFXHJcbiAgICAgICAgICAgIGRldGFpbHMuaW5uZXJIVE1MPSByZXN1bHRzRGF0YTtcclxuICAgICAgICAgICAgZGV0YWlscy5maXJzdENoaWxkLmZvY3VzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LmJpbmQodGhpcyksZmFsc2UpO1xyXG59O1xyXG4iLCJOQVZJR0FUSU9OID0ge1xyXG4gICAgY2hlY2tib3g6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW51LWNoZWNrYm94JylcclxufTtcclxuXHJcbi8vaWYgdXNlciBsZWZ0IG5hdmlnYXRpb24gYW5kIHByZXNzZWQgdGFiICh3aXRob3V0IHNoaWZ0KSBjbG9zZSBuYXZcclxuTkFWSUdBVElPTi5oaWRlRm9jdXMgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gOSAmJiAhZS5zaGlmdEtleSkge1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbn07XHJcblxyXG4vL2lmIHlvdXNlciBjbGlja2VkIG9uIGEgbGluaywgaGlkZSBuYXZpZ2F0aW9uXHJcbk5BVklHQVRJT04uaGlkZUNsaWNrID0gZnVuY3Rpb24oZSkge1xyXG4gICAgdmFyIHNvdXJjZSA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDtcclxuICAgICAgICBpZiAoc291cmNlLmhyZWYpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja2JveC5jaGVja2VkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG59O1xyXG5cclxuLy9jbG9zZSBuYXZpZ2F0aW9uIGlmIGNsaWNrZWQgb3V0c2lkZSBtZW51XHJcbk5BVklHQVRJT04uaGlkZUNsaWNrT3V0ID0gZnVuY3Rpb24oZSkge1xyXG4gICAgdmFyIHNvdXJjZSA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDtcclxuICAgIGlmICh0aGlzLmNoZWNrYm94LmNoZWNrZWQpIHtcclxuICAgICAgICBpZiAoc291cmNlLmNsYXNzTmFtZSAhPT0gJ21lbnVfX2xhYmVsJyAmJiBzb3VyY2UuY2xhc3NOYW1lICE9PSAnbWVudV9fY2hlY2tib3gnICkge1xyXG4gICAgICAgICAgICBpZiAoc291cmNlLmNsYXNzTmFtZSAhPT0gJ21lbnUtbGlzdCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tib3guY2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vaWYgKHRoaXMuY2hlY2tib3guY2hlY2tlZCAmJilcclxufTtcclxuIiwidmFyIFdFQVRIRVJBUEkgPSB7XHJcblxyXG59O1xyXG5cclxuV0VBVEhFUkFQSS5pbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcblxyXG4gICAgeGhyLm9wZW4oJ0dFVCcsICdodHRwOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS93ZWF0aGVyP3E9TG9uZG9uJmFwcGlkPWE0NzJlYmQ2NDJkYTNlNjRlMzVkYTMyOGFhZjM1MzFjJnVuaXRzPW1ldHJpYycsdHJ1ZSk7XHJcblxyXG4gICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgIT09IDQgKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHhoci5zdGF0dXMgIT09IDIwMCApe1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycignU3RhdHVzIGVycm9yOiAnICsgeGhyLnN0YXR1cyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcmVzdWx0cyA9IHt9LFxyXG4gICAgICAgICAgICBjb250YWluZXJEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2VhdGhlcicpLFxyXG4gICAgICAgICAgICBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpLFxyXG4gICAgICAgICAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICAgICAgICAgIGltYWdlLmNsYXNzTGlzdC5hZGQoJ3dlYXRoZXJfX2ljb24nKTtcclxuICAgICAgICAgICAgaWYgKCFkYXRhLnNyY0VsZW1lbnQpe1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0cyA9IEpTT04ucGFyc2UoZGF0YS50YXJnZXQucmVzcG9uc2UpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0cyA9IEpTT04ucGFyc2UoZGF0YS5zcmNFbGVtZW50LnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9XHJcbiAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJ3ZWF0aGVyX190ZXh0XCI+JytcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLndlYXRoZXJbMF0ubWFpbiArXHJcbiAgICAgICAgICAgICAgICAnPC9zcGFuPicrXHJcbiAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJ3ZWF0aGVyX190ZXh0XCI+JytcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLm1haW4udGVtcC50b0ZpeGVkKDEpICsgJyDCsEMnK1xyXG4gICAgICAgICAgICAgICAgJzwvc3Bhbj4nO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGltYWdlLnNyYyA9ICdodHRwOi8vb3BlbndlYXRoZXJtYXAub3JnL2ltZy93LycgKyByZXN1bHRzLndlYXRoZXJbMF0uaWNvbiArICcucG5nJztcclxuICAgICAgICAgICAgY29udGFpbmVyRGl2LmFwcGVuZENoaWxkKGltYWdlKTtcclxuICAgICAgICAgICAgY29udGFpbmVyRGl2LmFwcGVuZENoaWxkKGRpdik7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICB4aHIuc2VuZCgpO1xyXG59O1xyXG5cclxuV0VBVEhFUkFQSS5pbml0KCk7XHJcbiJdfQ==
